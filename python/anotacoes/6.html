<!DOCTYPE html>

<html lang="en-us">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />
    <meta
      property="og:description"
      content="Introdu√ß√£o √†s faculdades intelectuais da ci√™ncia da computa√ß√£o e a arte da programa√ß√£o. Este curso ensina aos estudantes a como pensar algoritmicamente e a como resulver problemas eficientemente. Os t√≥picos incluem abstra√ß√£o, algoritmos, estruturas de dados, encapsula√ß√£o, gerenciamento de recursos, seguran√ßa, e engenharia de software. O curso inclui as linguagens C, Python, e SQL, assim como HTML, CSS, e JavaScript. As listas de problemas s√£o inspiradas pelas √°reas das artes, humanas, ci√™ncias sociais, e ci√™ncias naturais. O curso culmina em um projeto final."
    />

    <meta property="og:image" content="" />
    <meta property="og:title" content="CS50" />
    <link
      href="https://cs50.harvard.edu/summer/2020/favicon.ico?1593528821"
      rel="icon"
    />

    <script
      src="https://kit.fontawesome.com/df44463090.js"
      crossorigin="anonymous"
    ></script>

    <link
      href="/static/css/all.min.css"
      rel="stylesheet"
    />

    <link
      href="/static/css/page.css"
      rel="stylesheet"
    />

    <link
      rel="stylesheet"
      type="text/css"
      href="/static/css/personalizado.css"
    />

    <!-- http://getbootstrap.com/docs/4.5/getting-started/introduction/ -->
    <script src="/static/js/jquery.min.js"></script>
    <script src="/static/js/popper.min.js"></script>
    <script src="/static/js/bootstrap.min.js"></script>

    <!-- https://momentjs.com/, https://momentjs.com/timezone/ -->
    <script src="/static/js/moment.min.js"></script>
    <script src="/static/js/moment-timezone-with-data.min.js"></script>
    <script src="/static/js/luxon.min.js"></script>

    <!-- https://www.algolia.com/doc/guides/building-search-ui/installation/js/ -->
    <script src="/static/js/algoliasearchLite.min.js"></script>
    <script src="/static/js/instantsearch.production.min.js"></script>
    <script src="/static/js/jekyll-theme-cs50.js"></script>

    <script src="/static/highlight/highlight.min.js"></script>
    <link
      rel="stylesheet"
      type="text/css"
      href="/static/highlight/styles/atom-one-light.min.css"
    />
    <script>hljs.initHighlightingOnLoad();</script>
    <style>
      code {
        border: 1px solid #dee2e6;
      }

      pre {
        padding: 0 !important;
      }

      /* Don't shrink these */
      code,
      pre {
        font-size: inherit;
      }
    </style>
    <title>CS50x em Portugu√™s</title>
  </head>

  <body>
    <div class="container-fluid">
      <div class="row">
        <aside class="col-md" style="background-color: green">
  <header>
    <h1 data-id="this-is-cs50">
      <a href="/2023/index.html"
        >Este √© o CS50x</a
      >
    </h1>

    <p>
      <a href="https://cs50.harvard.edu/x">O curso de Ci√™ncias da Computa√ß√£o da Universidade de Harvard</a
      ><br />2023
    </p>
  </header>

  <button
    aria-controls="nav"
    aria-expanded="false"
    class="btn btn-sm collapsed d-md-none"
    data-target="aside &gt; nav"
    data-toggle="collapse"
  >
    Menu
  </button>

  <nav class="collapse d-md-block" id="nav">
    <hr />

    <ul class="fa-ul">
      <li data-marker="*">
        <span class="fa-li"><i class="fas fa-circle"></i></span>
        <a href="/2023/semanas/0.html"
          >Semana 0
          <span class="semana-titulo"
            >Scratch <strong class="text-white">üò∫</strong></span
          ></a
        >
      </li>

      <li data-marker="*">
        <span class="fa-li"><i class="fas fa-circle"></i></span>
        <a href="/2023/semanas/1.html"
          >Semana 1
          <span class="semana-titulo">C</span></a
        >
      </li>

      <li data-marker="*">
        <span class="fa-li"><i class="fas fa-circle"></i></span>
        <a href="/2023/semanas/2.html"
          >Semana 2
          <span class="semana-titulo"
            >Vetores</span
          ></a
        >
      </li>

      <li data-marker="*">
        <span class="fa-li"><i class="fas fa-circle"></i></span>
        <a href="/2023/semanas/3.html"
          >Semana 3
          <span class="semana-titulo"
            >Algoritmos</span
          ></a
        >
      </li>

      <li data-marker="*">
        <span class="fa-li"><i class="fas fa-circle"></i></span>
        <a href="/2023/semanas/4.html"
          >Semana 4
          <span class="semana-titulo"
            >Mem√≥ria</span
          ></a
        >
      </li>

      <li data-marker="*">
        <span class="fa-li"><i class="fas fa-circle"></i></span>
        <a href="/2023/semanas/5.html"
          >Semana 5
          <span class="semana-titulo"
            >Estruturas de Dados</span
          ></a
        >
      </li>

      <li data-marker="*">
        <span class="fa-li"><i class="fas fa-circle"></i></span>
        <a href="/2023/semanas/6.html"
          >Semana 6
          <span class="semana-titulo">Python</span></a
        >
      </li>

      <li data-marker="*">
        <span class="fa-li"><i class="fas fa-circle"></i></span>
        <a href="/2023/semanas/7.html"
          >Semana 7
          <span class="semana-titulo">SQL</span></a
        >
      </li>

      <li data-marker="*">
        <span class="fa-li"><i class="fas fa-circle"></i></span>
        <a href="/2023/semanas/8.html"
          >Semana 8
          <span class="semana-titulo">HTML, CSS, JavaScript</span></a
        >
      </li>

      <li data-marker="*">
        <span class="fa-li"><i class="fas fa-circle"></i></span>
        <a href="/2023/semanas/9.html"
          >Semana 9
          <span class="semana-titulo">Flask</span></a
        >
      </li>

      <li data-marker="*">
        <span class="fa-li"><i class="fas fa-circle"></i></span>
        <a href="/2023/semanas/10.html"
          >Semana 10
          <span class="semana-titulo">Emoji</span></a
        >
      </li>
    </ul>

    <ul class="fa-ul">
      <li data-marker="*" class="small">
        <span class="fa-li"><i class="fas fa-square"></i></span
        ><a href="/2023/semanas/ciberseguranca.html"
          >Ciberseguran√ßa</a
        >
      </li>
    </ul>

    <hr />
    <ul>
      <li data-marker="*">
        <a href="/2023/projeto_final.html"
          >Projeto Final</a
        >
      </li>
    </ul>

    <hr />

    <ul class="fa-ul">
      <li data-marker="*">
        <span class="fa-li"><i class="fas fa-circle"></i></span>
        <a href="/manual/index.html"
          >Manual do Programador</a
        >
      </li>
      <li data-marker="*">
        <span class="fa-li"><i class="fas fa-circle"></i></span>
        <a href="/estilo.html"
          >Guia de Estilo</a
        >
      </li>
      <li data-marker="*">
        <span class="fa-li"><i class="fas fa-circle"></i></span>
        <a href="/2023/honestidade.html"
          >Honestidade Acad√™mica</a
        >
      </li>
      <li data-marker="*">
        <span class="fa-li"><i class="fas fa-circle"></i></span>
        <a href="/2023/certificado.html"
          >Certificado CS50</a
        >
      </li>
      <!--
      <li data-marker="*">
        <span class="fa-li"><i class="fas fa-circle"></i></span>
        <a href="/2023/perguntas_frequentes.html"
          ></a
        >
      </li>
      -->
      <!--
      <li data-marker="*">
        <span class="fa-li"><i class="fas fa-circle"></i></span>
        <a href="/2023/equipe.html"></a>
      </li>-->
      <li data-marker="*">
        <span class="fa-li"><i class="fas fa-circle"></i></span>
        <a href="/2023/curriculo.html"
          >Curr√≠culo do Curso</a
        >
      </li>
      <li data-marker="*">
        <span class="fa-li"><i class="fas fa-circle"></i></span>
        <a href="https://cs50.me/cs50x">Boletim de Notas</a>
      </li>
    </ul>

    <hr />

    <ul class="small fa-ul">
      <li data-marker="*">
        <span class="fa-li"><i class="fas fa-circle"></i></span>
        <a href="https://cs50.dev">Visual Studio Code</a>
      </li>
      <li data-marker="*">
        <span class="fa-li"><i class="fas fa-circle"></i></span>
        <a href="https://sqlitebrowser.org/"
          >Navegador SQLite</a
        >
      </li>
      <li data-marker="*">
        <span class="fa-li"><i class="fas fa-circle"></i></span>
        <a href="https://adminer.cs50.net/"
          >Navegador PostgreSQL</a
        >
      </li>
      <!--
            <li data-marker="*">
                <span class="fa-li"><i class="fas fa-circle"></i></span>
                <a href="https://man.cs50.io/">Manual CS50</a>
            </li>-->
      <li data-marker="*">
        <span class="fa-li"><i class="fas fa-circle"></i></span>
        <a href="https://docs.python.org/pt-br/3/search.html"
          >Documenta√ß√£o Python</a
        >
      </li>
      <li data-marker="*">
        <span class="fa-li"><i class="fas fa-circle"></i></span>
        <a href="https://pt.stackoverflow.com/">Stack Overflow</a>
      </li>
    </ul>

    <hr />

    <p style="font-size: initial">
      <a href="/2023/obrigado.html"
        ></a
      >
    </p>
  </nav>

  <footer></footer>
</aside>

        <main class="col-md markdown-body" style="margin-bottom: 286px">
          
<h2># Aula 6</h2>
<ul>
<li><a href="#file-io">Entrada e Sa√≠da de Arquivos</a></li>
<li><a href="#open"><code>open</code></a></li>
<li><a href="#with"><code>with</code></a></li>
<li><a href="#csv">CSV</a></li>
<li><a href="#binary-files-and-pil">Arquivos Bin√°rios e <code>PIL</code></a></li>
<li><a href="#summing-up">Resumindo</a></li>
</ul>
<h2>Entrada e Sa√≠da de Arquivos</h2>
<ul>
<li>
<p>At√© agora, tudo o que programamos armazena informa√ß√µes na mem√≥ria. Ou seja, assim que o programa termina, todas as informa√ß√µes fornecidas pelo usu√°rio ou geradas pelo programa s√£o perdidas.</p>
</li>
<li>
<p>Entrada e sa√≠da de arquivos √© a capacidade de um programa de ler um arquivo como entrada ou criar um arquivo como sa√≠da.</p>
</li>
<li>
<p>Para come√ßar, no terminal, digite <code>code names.py</code> e escreva o seguinte c√≥digo:</p>
<pre><code>name = input(&quot;Qual √© o seu nome?&quot;)
print(f&quot;Ol√°, {name}&quot;)
</code></pre>
<p>Note que ao executar este c√≥digo, a sa√≠da desejada √© obtida. O usu√°rio pode inserir um nome. A sa√≠da √© a esperada.</p>
</li>
<li>
<p>No entanto, e se quisermos permitir que v√°rios nomes sejam inseridos? Como poder√≠amos fazer isso? Lembre-se de que uma <code>list</code> √© uma estrutura de dados que nos permite armazenar v√°rios valores em uma √∫nica vari√°vel. Escreva o seguinte c√≥digo:</p>
<pre><code>names = []

for _ in range(3):
    name = input(&quot;Qual √© o seu nome?&quot;)
    names.append(name)
</code></pre>
<p>Note que o usu√°rio ser√° solicitado tr√™s vezes a inserir um nome. O m√©todo <code>append</code> √© usado para adicionar o <code>name</code> √† nossa lista <code>names</code>.</p>
</li>
<li>
<p>Este c√≥digo pode ser simplificado para o seguinte:</p>
<pre><code>names = []

for _ in range(3):
    names.append(input(&quot;Qual √© o seu nome?&quot;))
</code></pre>
<p>Note que isso produz o mesmo resultado que o bloco de c√≥digo anterior.</p>
</li>
<li>
<p>Agora, vamos habilitar a capacidade de imprimir a lista de nomes como uma lista ordenada. Escreva o seguinte c√≥digo:</p>
<p>names = []</p>
<p>for _ in range(3):
names.append(input(&quot;Qual √© o seu nome?&quot;))</p>
<p>for name in sorted(names):
print(f&quot;Ol√°, {name}&quot;)</p>
<p>Note que uma vez que este programa seja executado, todas as informa√ß√µes ser√£o perdidas. A entrada e sa√≠da de arquivos permite que o seu programa armazene essas informa√ß√µes para que possam ser usadas posteriormente.</p>
</li>
<li>
<p>Voc√™ pode aprender mais na documenta√ß√£o de Python sobre <a href="https://docs.python.org/3/library/functions.html#sorted">sorted</a>.</p>
</li>
</ul>
<h2><code>open</code></h2>
<ul>
<li>
<p><code>open</code> √© uma funcionalidade incorporada no Python que permite abrir um arquivo e utiliz√°-lo em seu programa. A fun√ß√£o <code>open</code> permite que voc√™ abra um arquivo para ler ou escrever nele.</p>
</li>
<li>
<p>Para mostrar como habilitar a entrada e sa√≠da de arquivos em seu programa, vamos voltar um pouco e codificar da seguinte forma:</p>
<pre><code>name = input(&quot;Qual √© o seu nome? &quot;)

file = open(&quot;names.txt&quot;, &quot;w&quot;)
file.write(name)
file.close()
</code></pre>
<p>Observe que a fun√ß√£o <code>open</code> abre um arquivo chamado <code>names.txt</code> com a escrita habilitada, como indicado pelo &quot;w&quot;. O c√≥digo acima atribui esse arquivo aberto a uma vari√°vel chamada <code>file</code>. A linha <code>file.write(name)</code> escreve o nome no arquivo de texto. A linha a seguir fecha o arquivo.</p>
</li>
<li>
<p>Testando o c√≥digo digitando <code>python names.py</code>, voc√™ pode inserir um nome e ele ser√° salvo no arquivo de texto. No entanto, se voc√™ executar seu programa v√°rias vezes usando nomes diferentes, perceber√° que este programa ir√° reescrever completamente o arquivo <code>names.txt</code> a cada vez.</p>
</li>
<li>
<p>Idealmente, queremos ser capazes de adicionar cada um de nossos nomes ao arquivo. Remova o arquivo de texto existente digitando <code>rm names.txt</code> na janela do terminal. Em seguida, modifique seu c√≥digo da seguinte forma:</p>
<pre><code>name = input(&quot;Qual √© o seu nome? &quot;)

file = open(&quot;names.txt&quot;, &quot;a&quot;)
file.write(name)
file.close()
</code></pre>
<p>Observe que a √∫nica altera√ß√£o em nosso c√≥digo √© que o &quot;w&quot; foi alterado para &quot;a&quot;, que significa &quot;append&quot; (anexar). Ao executar este programa v√°rias vezes, voc√™ notar√° que os nomes ser√£o adicionados ao arquivo. No entanto, voc√™ notar√° um novo problema!</p>
</li>
<li>
<p>Ao examinar seu arquivo de texto ap√≥s executar seu programa v√°rias vezes, voc√™ notar√° que os nomes est√£o sendo concatenados. Os nomes est√£o sendo anexados sem intervalos entre cada um. Voc√™ pode corrigir esse problema. Novamente, remova o arquivo de texto existente digitando <code>rm names.txt</code> na janela do terminal. Em seguida, modifique seu c√≥digo da seguinte forma:</p>
<pre><code>name = input(&quot;Qual √© o seu nome? &quot;)

file = open(&quot;names.txt&quot;, &quot;a&quot;)
file.write(f&quot;{name}\n&quot;)
file.close()
</code></pre>
<p>Observe que a linha com <code>file.write</code> foi modificada para adicionar uma quebra de linha no final de cada nome.</p>
</li>
<li>
<p>Esse c√≥digo est√° funcionando muito bem. No entanto, h√° maneiras de melhorar este programa. Acontece que √© bastante f√°cil esquecer de fechar o arquivo.</p>
</li>
<li>
<p>Voc√™ pode aprender mais na documenta√ß√£o do Python sobre <a href="https://docs.python.org/3/library/functions.html#open">open</a>.</p>
</li>
</ul>
<h2><code>with</code></h2>
<ul>
<li>
<p>A palavra-chave <code>with</code> permite automatizar o fechamento de um arquivo.</p>
</li>
<li>
<p>Modifique seu c√≥digo da seguinte forma:</p>
<pre><code>name = input(&quot;Qual √© o seu nome? &quot;)

with open(&quot;names.txt&quot;, &quot;a&quot;) as file:
    file.write(f&quot;{name}\n&quot;)
</code></pre>
<p>Observe que a linha abaixo de <code>with</code> est√° indentada.</p>
</li>
<li>
<p>At√© esse ponto, estivemos escrevendo exclusivamente em um arquivo. E se quisermos ler de um arquivo? Para habilitar essa funcionalidade, modifique seu c√≥digo da seguinte forma:</p>
<pre><code>with open(&quot;names.txt&quot;, &quot;r&quot;) as file:
    lines = file.readlines()

for line in lines:
    print(&quot;ol√°,&quot;, line)
</code></pre>
<p>Observe que <code>readlines</code> tem a habilidade especial de ler todas as linhas de um arquivo e armazen√°-las em uma vari√°vel chamada <code>lines</code>. Ao executar seu programa, voc√™ notar√° que a sa√≠da √© um tanto feia. Parece haver v√°rias quebras de linha onde deveria haver apenas uma.</p>
</li>
<li>
<p>Existem v√°rias abordagens para corrigir esse problema. No entanto, aqui est√° uma forma simples de corrigir esse erro em nosso c√≥digo:</p>
<pre><code>with open(&quot;names.txt&quot;, &quot;r&quot;) as file:
    lines = file.readlines()

for line in lines:
    print(&quot;ol√°,&quot;, line.rstrip())
</code></pre>
<p>Observe que <code>rstrip</code> tem o efeito de remover a quebra de linha excedente no final de cada linha.</p>
</li>
<li>
<p>Ainda assim, esse c√≥digo poderia ser simplificado ainda mais:</p>
<pre><code>with open(&quot;names.txt&quot;, &quot;r&quot;) as file:
    for line in file:
        print(&quot;ol√°,&quot;, line.rstrip())
</code></pre>
<p>Observe que ao executar esse c√≥digo, est√° correto. No entanto, note que n√£o estamos ordenando os nomes.</p>
</li>
<li>
<p>Esse c√≥digo pode ser aprimorado ainda mais para permitir a ordena√ß√£o dos nomes:</p>
<pre><code>names = []

with open(&quot;names.txt&quot;) as file:
    for line in file:
        names.append(line.rstrip())

for name in sorted(names):
    print(f&quot;ol√°, {name}&quot;)
</code></pre>
<p>Observe que <code>names</code> √© uma lista vazia onde podemos armazenar os nomes. Cada nome √© adicionado √† lista <code>names</code> em mem√≥ria. Em seguida, cada nome na lista ordenada em mem√≥ria √© impresso. Ao executar seu c√≥digo, voc√™ ver√° que os nomes agora est√£o corretamente ordenados.</p>
</li>
<li>
<p>E se quisermos armazenar mais do que apenas os nomes dos estudantes? E se quisermos armazenar tamb√©m a casa do estudante?</p>
</li>
</ul>
<h2>CSV</h2>
<ul>
<li>
<p>CSV significa &quot;valores separados por v√≠rgula&quot;.</p>
</li>
<li>
<p>Na janela do seu terminal, digite <code>code students.csv</code>. Certifique-se de que seu novo arquivo CSV fique como o seguinte:</p>
<pre><code>Hermoine,Gryffindor
Harry,Gryffindor
Ron,Gryffindor
Draco,Slytherin
</code></pre>
</li>
<li>
<p>Vamos criar um novo programa digitando <code>code students.py</code> e c√≥digo da seguinte forma:</p>
<pre><code>with open(&quot;students.csv&quot;) as file:
    for line in file:
        row = line.rstrip().split(&quot;,&quot;)
        print(f&quot;{row[0]} est√° na {row[1]}&quot;)
</code></pre>
<p>Observe que <code>rstrip</code> remove o final de cada linha do nosso arquivo CSV. <code>split</code> informa ao compilador onde encontrar o final de cada um dos nossos valores no arquivo CSV. <code>row[0]</code> √© o primeiro elemento em cada linha do nosso arquivo CSV. <code>row[1]</code> √© o segundo elemento em cada linha do nosso arquivo CSV.</p>
</li>
<li>
<p>O c√≥digo acima √© eficaz para dividir cada linha ou &quot;registro&quot; do nosso arquivo CSV. No entanto, √© um pouco cr√≠ptico de se olhar se voc√™ n√£o est√° familiarizado com esse tipo de sintaxe. O Python possui a capacidade embutida que pode simplificar ainda mais esse c√≥digo. Modifique o c√≥digo como segue:</p>
<pre><code>with open(&quot;students.csv&quot;) as file:
    for line in file:
        name, house = line.rstrip().split(&quot;,&quot;)
        print(f&quot;{name} est√° na {house}&quot;)
</code></pre>
<p>Observe que a fun√ß√£o <code>split</code> realmente retorna dois valores: o anterior √† v√≠rgula e o posterior √† v√≠rgula. Consequentemente, podemos usar essa funcionalidade para atribuir dois valores de uma vez em vez de um!</p>
</li>
<li>
<p>Imagine que gostar√≠amos novamente de fornecer esta lista como uma sa√≠da ordenada. Voc√™ pode modificar o seu c√≥digo da seguinte forma:</p>
<pre><code>students = []

with open(&quot;students.csv&quot;) as file:
    for line in file:
        name, house = line.rstrip().split(&quot;,&quot;)
        students.append(f&quot;{name} est√° na {house}&quot;)

for student in sorted(students):
    print(student)
</code></pre>
<p>Observe que criamos uma <code>lista</code> chamada <code>students</code>. N√≥s adicionamos cada string a essa lista usando o comando <code>append</code>. Em seguida, n√≥s imprimimos uma vers√£o ordenada da nossa lista.</p>
</li>
<li>
<p>Lembre-se de que o Python permite <code>dicion√°rios</code>, nos quais uma chave pode ser associada a um valor. Este c√≥digo pode ser aprimorado ainda mais:</p>
<pre><code>students = []

with open(&quot;students.csv&quot;) as file:
    for line in file:
        name, house = line.rstrip().split(&quot;,&quot;)
        student = {}
        student[&quot;name&quot;] = name
        student[&quot;house&quot;] = house
        students.append(student)

for student in students:
    print(f&quot;{student[&#x27;name&#x27;]} est√° na {student[&#x27;house&#x27;]}&quot;)
</code></pre>
<p>Observe que criamos um dicion√°rio vazio chamado <code>student</code>. Adicionamos os valores para cada aluno, incluindo seu nome e casa, no dicion√°rio <code>student</code>. Em seguida, adicionamos esse estudante √† lista chamada <code>students</code>.</p>
</li>
<li>
<p>Podemos melhorar nosso c√≥digo da seguinte forma:</p>
<pre><code>students = []

with open(&quot;students.csv&quot;) as file:
    for line in file:
        name, house = line.rstrip().split(&quot;,&quot;)
        student = {&quot;name&quot;: name, &quot;house&quot;: house}
        students.append(student)

for student in students:
    print(f&quot;{student[&#x27;name&#x27;]} est√° na {student[&#x27;house&#x27;]}&quot;)
</code></pre>
<p>Observe que isso produz o resultado desejado, mas sem a ordena√ß√£o dos estudantes.</p>
</li>
<li>
<p>Infelizmente, n√£o podemos ordenar os estudantes como antes porque cada aluno √© agora um dicion√°rio dentro de uma lista. Seria √∫til se o Python pudesse ordenar a lista de dicion√°rios <code>students</code> por nome do aluno.</p>
</li>
<li>
<p>Para implementar isso em nosso c√≥digo, fa√ßa as seguintes altera√ß√µes:</p>
<pre><code>students = []

with open(&quot;students.csv&quot;) as file:
    for line in file:
        name, house = line.rstrip().split(&quot;,&quot;)
        students.append({&quot;name&quot;: name, &quot;house&quot;: house})


def get_name(student):
    return student[&quot;name&quot;]


for student in sorted(students, key=get_name):
    print(f&quot;{student[&#x27;name&#x27;]} est√° na {student[&#x27;house&#x27;]}&quot;)
</code></pre>
<p>Observe que <code>sorted</code> precisa saber como obter a chave de cada estudante. O Python permite um par√¢metro chamado <code>key</code>, onde podemos definir a chave pela qual a lista de estudantes ser√° ordenada. Portanto, a fun√ß√£o <code>get_name</code> retorna simplesmente a chave <code>student[&quot;name&quot;]</code>. Ao executar este programa, voc√™ ver√° que a lista agora est√° ordenada por nome.</p>
</li>
<li>
<p>Ainda assim, nosso c√≥digo pode ser aprimorado. Acontece que, se voc√™ s√≥ vai usar uma fun√ß√£o como <code>get_name</code> uma vez, √© poss√≠vel simplificar o c√≥digo da seguinte forma. Modifique seu c√≥digo como segue:</p>
<pre><code>students = []

with open(&quot;students.csv&quot;) as file:
    for line in file:
        name, house = line.rstrip().split(&quot;,&quot;)
        students.append({&quot;name&quot;: name, &quot;house&quot;: house})

for student in sorted(students, key=lambda student: student[&quot;name&quot;]):
    print(f&quot;{student[&#x27;name&#x27;]} est√° na {student[&#x27;house&#x27;]}&quot;)
</code></pre>
<p>Observe como usamos uma fun√ß√£o <code>lambda</code>, uma fun√ß√£o an√¥nima, que diz: &quot;Ei Python, aqui est√° uma fun√ß√£o sem nome: Dado um <code>student</code>, acesse seu <code>name</code> e retorne-o como a chave&quot;.</p>
</li>
<li>
<p>Infelizmente, nosso c√≥digo est√° um pouco fr√°gil. Suponha que alteramos nosso arquivo CSV de forma que indicamos onde cada estudante cresceu. Qual seria o impacto disso em nosso programa? Primeiramente, modifique seu arquivo <code>students.csv</code> da seguinte forma:</p>
<p>Harry,&quot;N√∫mero Quatro, Vila dos Trevos&quot;
Ron,A Toca
Draco,Mans√£o Malfoy</p>
</li>
</ul>
<p>Observe como rodar nosso programa agora produzir√° v√°rios erros.</p>
<ul>
<li>
<p>Agora que estamos lidando com casas em vez de moradias, modifique seu c√≥digo da seguinte forma:</p>
<pre><code>students = []

with open(&quot;students.csv&quot;) as file:
    for line in file:
        name, home = line.rstrip().split(&quot;,&quot;)
        students.append({&quot;name&quot;: name, &quot;home&quot;: home})

for student in sorted(students, key=lambda student: student[&quot;name&quot;]):
    print(f&quot;{student[&#x27;name&#x27;]} √© de {student[&#x27;home&#x27;]}&quot;)
</code></pre>
<p>Observe que, mesmo executando nosso programa agora, ele ainda n√£o funciona corretamente. Voc√™ consegue adivinhar por qu√™?</p>
</li>
<li>
<p>O erro <code>ValueError: too many values to unpack</code> produzido pelo compilador √© o resultado do fato de que anteriormente criamos este programa esperando que o arquivo CSV fosse <code>split</code> usando uma <code>,</code> (v√≠rgula). Poder√≠amos gastar mais tempo abordando isso, mas algu√©m j√° desenvolveu uma maneira de &quot;analisar&quot; (ou seja, ler) arquivos CSV!</p>
</li>
<li>
<p>A biblioteca CSV embutida do Python vem com um objeto chamado <code>reader</code>. Como o nome sugere, podemos usar um <code>reader</code> para ler nosso arquivo CSV, apesar da v√≠rgula extra em &quot;N√∫mero Quatro, Vila dos Trevos&quot;. Um <code>reader</code> funciona em um loop <code>for</code>, onde em cada itera√ß√£o o <code>reader</code> nos fornece outra linha do nosso arquivo CSV. Essa linha em si √© uma lista, onde cada valor na lista corresponde a um elemento daquela linha. <code>row[0]</code>, por exemplo, √© o primeiro elemento da linha dada, enquanto <code>row[1]</code> √© o segundo elemento.</p>
<pre><code>import csv

students = []

with open(&quot;students.csv&quot;) as file:
    reader = csv.reader(file)
    for row in reader:
        students.append({&quot;name&quot;: row[0], &quot;home&quot;: row[1]})

for student in sorted(students, key=lambda student: student[&quot;name&quot;]):
    print(f&quot;{student[&#x27;name&#x27;]} √© de {student[&#x27;home&#x27;]}&quot;)
</code></pre>
<p>Observe que nosso programa agora funciona como esperado.</p>
</li>
<li>
<p>At√© agora, temos confiado em nosso programa para decidir especificamente quais partes do nosso arquivo CSV s√£o os nomes e quais partes s√£o os lares. No entanto, √© um melhor design incluir isso diretamente em nosso arquivo CSV ao edit√°-lo da seguinte forma:</p>
<pre><code>name,home
Harry
</code></pre>
</li>
</ul>
<h2>Arquivos Bin√°rios e <code>PIL</code></h2>
<ul>
<li>Mais um tipo de arquivo que discutiremos hoje √© um arquivo bin√°rio. Um arquivo bin√°rio √© simplesmente uma cole√ß√£o de uns e zeros. Esse tipo de arquivo pode armazenar qualquer coisa, incluindo dados de m√∫sica e imagem.</li>
<li>Existe uma biblioteca Python popular chamada <code>PIL</code> que funciona bem com arquivos de imagem.</li>
<li>As GIFs animadas s√£o um tipo popular de arquivo de imagem que cont√©m muitos arquivos de imagem dentro delas, que s√£o reproduzidos em sequ√™ncia repetidamente, criando uma anima√ß√£o simples ou efeito de v√≠deo.</li>
<li>Imagine que temos uma s√©rie de figurinos, ilustrados abaixo.</li>
<li>Aqui est√° <code>costume1.gif</code>.</li>
</ul>
<p><img src="https://cdn.cs50.net/python/2022/x/lectures/6/src6/costume1.gif" alt="Gato n√∫mero 1." title="costume1.gif" /></p>
<ul>
<li>Aqui est√° outro chamado <code>costume2.gif</code>. Observe como as posi√ß√µes das pernas s√£o ligeiramente diferentes.</li>
</ul>
<p><img src="https://cdn.cs50.net/python/2022/x/lectures/6/src6/costume2.gif" alt="Gato n√∫mero 2." title="costume2.gif" /></p>
<ul>
<li>
<p>Antes de prosseguir, certifique-se de ter baixado os arquivos de c√≥digo-fonte do site do curso. N√£o ser√° poss√≠vel codificar o seguinte sem ter as duas imagens acima em sua posse e armazenadas em seu IDE.</p>
</li>
<li>
<p>Na janela do terminal, digite <code>code costumes.py</code> e codifique da seguinte forma:</p>
<pre><code>import sys

from PIL import Image

images = []

for arg in sys.argv[1:]:
    image = Image.open(arg)
    images.append(image)

images[0].save(
    &quot;costumes.gif&quot;, save_all=True, append_images=[images[1]], duration=200, loop=0
)
</code></pre>
<p>Observe que importamos a funcionalidade <code>Image</code> do <code>PIL</code>. Observe que o primeiro loop <code>for</code> simplesmente percorre as imagens fornecidas como argumentos de linha de comando e as armazena na lista chamada <code>images</code>. O <code>1:</code> come√ßa a fatiar <code>argv</code> em seu segundo elemento. As √∫ltimas linhas de c√≥digo salvam a primeira imagem e tamb√©m acrescentam uma segunda imagem a ela, criando um GIF animado. Digite <code>python costumes.py costume1.gif costume2.gif</code> no terminal. Agora, digite <code>code costumes.gif</code> na janela do terminal e voc√™ poder√° ver um GIF animado.</p>
</li>
<li>
<p>Voc√™ pode aprender mais na documenta√ß√£o do Pillow sobre o <a href="https://pillow.readthedocs.io/">PIL</a>.</p>
</li>
</ul>
<h2>Resumindo</h2>
<p>Agora, n√£o apenas vimos que podemos escrever e ler arquivos textualmente - tamb√©m podemos ler e escrever arquivos usando uns e zeros. Mal podemos esperar para ver o que voc√™ vai conseguir com essas novas habilidades a seguir.</p>
<ul>
<li>Entrada e sa√≠da de arquivos (File I/O)</li>
<li><code>open</code></li>
<li><code>with</code></li>
<li>CSV</li>
<li><code>PIL</code></li>
</ul>


        </main>
      </div>
    </div>
  </body>
</html>