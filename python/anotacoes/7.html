<!DOCTYPE html>

<html lang="en-us">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />
    <meta
      property="og:description"
      content="Introdu√ß√£o √†s faculdades intelectuais da ci√™ncia da computa√ß√£o e a arte da programa√ß√£o. Este curso ensina aos estudantes a como pensar algoritmicamente e a como resulver problemas eficientemente. Os t√≥picos incluem abstra√ß√£o, algoritmos, estruturas de dados, encapsula√ß√£o, gerenciamento de recursos, seguran√ßa, e engenharia de software. O curso inclui as linguagens C, Python, e SQL, assim como HTML, CSS, e JavaScript. As listas de problemas s√£o inspiradas pelas √°reas das artes, humanas, ci√™ncias sociais, e ci√™ncias naturais. O curso culmina em um projeto final."
    />

    <meta property="og:image" content="" />
    <meta property="og:title" content="CS50" />
    <link
      href="https://cs50.harvard.edu/summer/2020/favicon.ico?1593528821"
      rel="icon"
    />

    <script
      src="https://kit.fontawesome.com/df44463090.js"
      crossorigin="anonymous"
    ></script>

    <link
      href="/static/css/all.min.css"
      rel="stylesheet"
    />

    <link
      href="/static/css/page.css"
      rel="stylesheet"
    />

    <link
      rel="stylesheet"
      type="text/css"
      href="/static/css/personalizado.css"
    />

    <!-- http://getbootstrap.com/docs/4.5/getting-started/introduction/ -->
    <script src="/static/js/jquery.min.js"></script>
    <script src="/static/js/popper.min.js"></script>
    <script src="/static/js/bootstrap.min.js"></script>

    <!-- https://momentjs.com/, https://momentjs.com/timezone/ -->
    <script src="/static/js/moment.min.js"></script>
    <script src="/static/js/moment-timezone-with-data.min.js"></script>
    <script src="/static/js/luxon.min.js"></script>

    <!-- https://www.algolia.com/doc/guides/building-search-ui/installation/js/ -->
    <script src="/static/js/algoliasearchLite.min.js"></script>
    <script src="/static/js/instantsearch.production.min.js"></script>
    <script src="/static/js/jekyll-theme-cs50.js"></script>

    <script src="/static/highlight/highlight.min.js"></script>
    <link
      rel="stylesheet"
      type="text/css"
      href="/static/highlight/styles/atom-one-light.min.css"
    />
    <script>hljs.initHighlightingOnLoad();</script>
    <style>
      code {
        border: 1px solid #dee2e6;
      }

      pre {
        padding: 0 !important;
      }

      /* Don't shrink these */
      code,
      pre {
        font-size: inherit;
      }
    </style>
    <title>CS50x em Portugu√™s</title>
  </head>

  <body>
    <div class="container-fluid">
      <div class="row">
        <aside class="col-md" style="background-color: green">
  <header>
    <h1 data-id="this-is-cs50">
      <a href="/2023/index.html"
        >Este √© o CS50x</a
      >
    </h1>

    <p>
      <a href="https://cs50.harvard.edu/x">O curso de Ci√™ncias da Computa√ß√£o da Universidade de Harvard</a
      ><br />2023
    </p>
  </header>

  <button
    aria-controls="nav"
    aria-expanded="false"
    class="btn btn-sm collapsed d-md-none"
    data-target="aside &gt; nav"
    data-toggle="collapse"
  >
    Menu
  </button>

  <nav class="collapse d-md-block" id="nav">
    <hr />

    <ul class="fa-ul">
      <li data-marker="*">
        <span class="fa-li"><i class="fas fa-circle"></i></span>
        <a href="/2023/semanas/0.html"
          >Semana 0
          <span class="semana-titulo"
            >Scratch <strong class="text-white">üò∫</strong></span
          ></a
        >
      </li>

      <li data-marker="*">
        <span class="fa-li"><i class="fas fa-circle"></i></span>
        <a href="/2023/semanas/1.html"
          >Semana 1
          <span class="semana-titulo">C</span></a
        >
      </li>

      <li data-marker="*">
        <span class="fa-li"><i class="fas fa-circle"></i></span>
        <a href="/2023/semanas/2.html"
          >Semana 2
          <span class="semana-titulo"
            >Vetores</span
          ></a
        >
      </li>

      <li data-marker="*">
        <span class="fa-li"><i class="fas fa-circle"></i></span>
        <a href="/2023/semanas/3.html"
          >Semana 3
          <span class="semana-titulo"
            >Algoritmos</span
          ></a
        >
      </li>

      <li data-marker="*">
        <span class="fa-li"><i class="fas fa-circle"></i></span>
        <a href="/2023/semanas/4.html"
          >Semana 4
          <span class="semana-titulo"
            >Mem√≥ria</span
          ></a
        >
      </li>

      <li data-marker="*">
        <span class="fa-li"><i class="fas fa-circle"></i></span>
        <a href="/2023/semanas/5.html"
          >Semana 5
          <span class="semana-titulo"
            >Estruturas de Dados</span
          ></a
        >
      </li>

      <li data-marker="*">
        <span class="fa-li"><i class="fas fa-circle"></i></span>
        <a href="/2023/semanas/6.html"
          >Semana 6
          <span class="semana-titulo">Python</span></a
        >
      </li>

      <li data-marker="*">
        <span class="fa-li"><i class="fas fa-circle"></i></span>
        <a href="/2023/semanas/7.html"
          >Semana 7
          <span class="semana-titulo">SQL</span></a
        >
      </li>

      <li data-marker="*">
        <span class="fa-li"><i class="fas fa-circle"></i></span>
        <a href="/2023/semanas/8.html"
          >Semana 8
          <span class="semana-titulo">HTML, CSS, JavaScript</span></a
        >
      </li>

      <li data-marker="*">
        <span class="fa-li"><i class="fas fa-circle"></i></span>
        <a href="/2023/semanas/9.html"
          >Semana 9
          <span class="semana-titulo">Flask</span></a
        >
      </li>

      <li data-marker="*">
        <span class="fa-li"><i class="fas fa-circle"></i></span>
        <a href="/2023/semanas/10.html"
          >Semana 10
          <span class="semana-titulo">Emoji</span></a
        >
      </li>
    </ul>

    <ul class="fa-ul">
      <li data-marker="*" class="small">
        <span class="fa-li"><i class="fas fa-square"></i></span
        ><a href="/2023/semanas/ciberseguranca.html"
          >Ciberseguran√ßa</a
        >
      </li>
    </ul>

    <hr />
    <ul>
      <li data-marker="*">
        <a href="/2023/projeto_final.html"
          >Projeto Final</a
        >
      </li>
    </ul>

    <hr />

    <ul class="fa-ul">
      <li data-marker="*">
        <span class="fa-li"><i class="fas fa-circle"></i></span>
        <a href="/manual/index.html"
          >Manual do Programador</a
        >
      </li>
      <li data-marker="*">
        <span class="fa-li"><i class="fas fa-circle"></i></span>
        <a href="/estilo.html"
          >Guia de Estilo</a
        >
      </li>
      <li data-marker="*">
        <span class="fa-li"><i class="fas fa-circle"></i></span>
        <a href="/2023/honestidade.html"
          >Honestidade Acad√™mica</a
        >
      </li>
      <li data-marker="*">
        <span class="fa-li"><i class="fas fa-circle"></i></span>
        <a href="/2023/certificado.html"
          >Certificado CS50</a
        >
      </li>
      <!--
      <li data-marker="*">
        <span class="fa-li"><i class="fas fa-circle"></i></span>
        <a href="/2023/perguntas_frequentes.html"
          ></a
        >
      </li>
      -->
      <!--
      <li data-marker="*">
        <span class="fa-li"><i class="fas fa-circle"></i></span>
        <a href="/2023/equipe.html"></a>
      </li>-->
      <li data-marker="*">
        <span class="fa-li"><i class="fas fa-circle"></i></span>
        <a href="/2023/curriculo.html"
          >Curr√≠culo do Curso</a
        >
      </li>
      <li data-marker="*">
        <span class="fa-li"><i class="fas fa-circle"></i></span>
        <a href="https://cs50.me/cs50x">Boletim de Notas</a>
      </li>
    </ul>

    <hr />

    <ul class="small fa-ul">
      <li data-marker="*">
        <span class="fa-li"><i class="fas fa-circle"></i></span>
        <a href="https://cs50.dev">Visual Studio Code</a>
      </li>
      <li data-marker="*">
        <span class="fa-li"><i class="fas fa-circle"></i></span>
        <a href="https://sqlitebrowser.org/"
          >Navegador SQLite</a
        >
      </li>
      <li data-marker="*">
        <span class="fa-li"><i class="fas fa-circle"></i></span>
        <a href="https://adminer.cs50.net/"
          >Navegador PostgreSQL</a
        >
      </li>
      <!--
            <li data-marker="*">
                <span class="fa-li"><i class="fas fa-circle"></i></span>
                <a href="https://man.cs50.io/">Manual CS50</a>
            </li>-->
      <li data-marker="*">
        <span class="fa-li"><i class="fas fa-circle"></i></span>
        <a href="https://docs.python.org/pt-br/3/search.html"
          >Documenta√ß√£o Python</a
        >
      </li>
      <li data-marker="*">
        <span class="fa-li"><i class="fas fa-circle"></i></span>
        <a href="https://pt.stackoverflow.com/">Stack Overflow</a>
      </li>
    </ul>

    <hr />

    <p style="font-size: initial">
      <a href="/2023/obrigado.html"
        ></a
      >
    </p>
  </nav>

  <footer></footer>
</aside>

        <main class="col-md markdown-body" style="margin-bottom: 286px">
          
<h2># Aula 7</h2>
<ul>
<li><a href="#express%C3%B5es-regulares">Express√µes Regulares</a></li>
<li><a href="#sensibilidade-a-mai%C3%BAsculas-e-min%C3%BAsculas">Sensibilidade a mai√∫sculas e min√∫sculas</a></li>
<li><a href="#limpeza-da-entrada-do-usu%C3%A1rio">Limpeza da Entrada do Usu√°rio</a></li>
<li><a href="#extra%C3%A7%C3%A3o-da-entrada-do-usu%C3%A1rio">Extra√ß√£o da Entrada do Usu√°rio</a></li>
<li><a href="#resumindo">Resumindo</a></li>
</ul>
<h2>Express√µes Regulares</h2>
<ul>
<li>
<p>Express√µes regulares ou &quot;regexes&quot; nos permitir√£o examinar padr√µes dentro do nosso c√≥digo. Por exemplo, podemos querer validar se um endere√ßo de e-mail est√° formatado corretamente. Express√µes regulares nos permitir√£o examinar express√µes dessa maneira.</p>
</li>
<li>
<p>Para come√ßar, digite <code>code validate.py</code> na janela do terminal. Em seguida, codifique da seguinte forma no editor de texto:</p>
<pre><code>email = input(&quot;Qual √© o seu e-mail? &quot;).strip()

if &quot;@&quot; in email:
    print(&quot;V√°lido&quot;)
else:
    print(&quot;Inv√°lido&quot;)
</code></pre>
<p>Observe que <code>strip</code> remover√° espa√ßos em branco no in√≠cio ou fim da entrada. Executando este programa, voc√™ ver√° que, desde que um s√≠mbolo &quot;@&quot; seja inserido, o programa considerar√° a entrada como v√°lida.</p>
</li>
<li>
<p>No entanto, podemos imaginar que algu√©m poderia inserir apenas <code>@@</code> e a entrada poderia ser considerada v√°lida. Poder√≠amos considerar um endere√ßo de e-mail como tendo pelo menos um <code>@</code> e um <code>.</code> em algum lugar. Modifique seu c√≥digo da seguinte forma:</p>
<pre><code>email = input(&quot;Qual √© o seu e-mail? &quot;).strip()

if &quot;@&quot; in email and &quot;.&quot; in email:
    print(&quot;V√°lido&quot;)
else:
    print(&quot;Inv√°lido&quot;)
</code></pre>
<p>Observe que, embora isso funcione como esperado, nosso usu√°rio poderia ser advers√°rio, digitando apenas <code>@.</code> resultaria no programa retornando <code>v√°lido</code>.</p>
</li>
<li>
<p>Podemos melhorar a l√≥gica do nosso programa da seguinte forma:</p>
<pre><code>email = input(&quot;Qual √© o seu e-mail? &quot;).strip()

username, domain = email.split(&quot;@&quot;)

if username and &quot;.&quot; in domain:
    print(&quot;V√°lido&quot;)
else:
    print(&quot;Inv√°lido&quot;)
</code></pre>
<p>Observe como o m√©todo <code>strip</code> √© usado para determinar se <code>username</code> existe e se <code>.</code> est√° dentro da vari√°vel <code>domain</code>. Executando este programa, um endere√ßo de e-mail padr√£o digitado por voc√™ pode ser considerado <code>v√°lido</code>. Digitar <code>malan@harvard</code> sozinho mostrar√° que o programa considera essa entrada como <code>inv√°lida</code>.</p>
</li>
<li>
<p>Podemos ser ainda mais precisos, modificando nosso c√≥digo da seguinte forma:</p>
<pre><code>email = input(&quot;Qual √© o seu e-mail? &quot;).strip()

username, domain = email.split(&quot;@&quot;)

if username and domain.endswith(&quot;.edu&quot;):
    print(&quot;V√°lido&quot;)
else:
    print(&quot;Inv√°lido&quot;)
</code></pre>
<p>Observe como o m√©todo <code>endswith</code> verifica se <code>domain</code> cont√©m <code>.edu</code>. No entanto, um usu√°rio mal-intencionado ainda pode quebrar nosso c√≥digo. Por exemplo, um usu√°rio pode digitar <code>malan@.edu</code> e seria considerado v√°lido.</p>
</li>
<li>
<p>De fato, podemos continuar iterando neste c√≥digo. No entanto, acontece que o Python tem uma biblioteca existente chamada <code>re</code> que possui v√°rias fun√ß√µes integradas que podem validar entradas do usu√°rio em rela√ß√£o a padr√µes.</p>
</li>
<li>
<p>Uma das fun√ß√µes mais vers√°teis da biblioteca <code>re</code> √© <code>search</code>.</p>
</li>
<li>
<p>A biblioteca <code>search</code> segue a assinatura <code>re.search(padrao, string, flags=0)</code>. Seguindo essa assinatura, podemos modificar nosso c√≥digo da seguinte forma:</p>
<pre><code>import re

email = input(&quot;Qual √© o seu e-mail? &quot;).strip()

if re.search(&quot;@&quot;, email):
    print(&quot;V√°lido&quot;)
else:
    print(&quot;Inv√°lido&quot;)
</code></pre>
<p>Observe que isso n√£o aumenta a funcionalidade do nosso programa. Na verdade, √© um passo atr√°s.</p>
</li>
<li>
<p>Podemos melhorar ainda mais a funcionalidade do nosso programa. No entanto, precisamos avan√ßar nosso vocabul√°rio em rela√ß√£o √† &quot;valida√ß√£o&quot;. Acontece que no mundo das express√µes regulares existem certos s√≠mbolos que nos permitem identificar padr√µes. At√© agora, apenas temos verificado partes espec√≠ficas do texto, como <code>@</code>. Acontece que muitos s√≠mbolos especiais podem ser passados ‚Äã‚Äãpara o compilador com o objetivo de fazer valida√ß√£o. Uma lista n√£o exaustiva desses padr√µes √© a seguinte:</p>
<pre><code>.   qualquer caractere, exceto uma nova linha
*   0 ou mais repeti√ß√µes
+   1 ou mais repeti√ß√µes
?   0 ou 1 repeti√ß√£o
{m} m repeti√ß√µes
{m,n} repeti√ß√µes de m a n
</code></pre>
</li>
<li>
<p>Implementando isso em nosso c√≥digo, modifique-o da seguinte forma:</p>
<pre><code>import re

email = input(&quot;Qual √© o seu e-mail? &quot;).strip()

if re.search(&quot;.+@.+&quot;, email):
    print(&quot;V√°lido&quot;)
else:
    print(&quot;Inv√°lido&quot;)
</code></pre>
<p>Observe que n√£o nos importamos com o que √© o nome de usu√°rio ou o dom√≠nio. O que nos importa √© o padr√£o. <code>.+</code> √© usado para determinar se h√° algo √† esquerda do endere√ßo de e-mail e se h√° algo √† direita do endere√ßo de e-mail. Executando seu c√≥digo, digitando <code>malan@</code>, voc√™ perceber√° que a entrada √© considerada <code>inv√°lida</code>, como esper√°vamos.</p>
</li>
<li>
<p>Se tiv√©ssemos usado uma express√£o regular <code>.*@.*</code> em nosso c√≥digo acima, voc√™ pode visualiz√°-la da seguinte forma: <img src="cs50pWeek7Slide8.png" alt="M√°quina de estados." title="cs50pWeek7Slide8.png" /></p>
<p>Observe a representa√ß√£o da <code>m√°quina de estados</code> de nossa express√£o regular. √Ä esquerda, o compilador come√ßa a avaliar a declara√ß√£o da esquerda para a direita. Quando atingimos <code>q1</code> ou pergunta 1, o compilador l√™ repetidamente com base na express√£o fornecida a ele. Em seguida, o estado √© alterado, olhando agora para <code>q2</code> ou a segunda pergunta sendo validada. Novamente, a seta indica como a express√£o ser√° avaliada repetidamente com base em nossa programa√ß√£o. Em seguida</p>
</li>
</ul>
<h2>Sensibilidade a mai√∫sculas e min√∫sculas</h2>
<ul>
<li>
<p>Para ilustrar como voc√™ pode lidar com problemas relacionados √† sensibilidade a mai√∫sculas e min√∫sculas, onde h√° diferen√ßa entre <code>EDU</code> e <code>edu</code>, vamos voltar nosso c√≥digo para o seguinte:</p>
<pre><code>import re

email = input(&quot;Qual √© o seu e-mail? &quot;).strip()

if re.search(r&quot;^\w+@\w.+\.edu$&quot;, email):
    print(&quot;V√°lido&quot;)
else:
    print(&quot;Inv√°lido&quot;)
</code></pre>
<p>Observe como removemos as declara√ß√µes <code>|</code> fornecidas anteriormente.</p>
</li>
<li>
<p>Lembre-se de que dentro da fun√ß√£o <code>re.search</code>, h√° um par√¢metro para <code>flags</code>.</p>
</li>
<li>
<p>Algumas vari√°veis de flag incorporadas s√£o:</p>
<pre><code>re.IGNORECASE
re.MULTILINE
re.DOTALL
</code></pre>
<p>Considere como voc√™ pode us√°-las em seu c√≥digo.</p>
</li>
<li>
<p>Portanto, podemos alterar nosso c√≥digo da seguinte forma.</p>
<pre><code>import re

email = input(&quot;Qual √© o seu e-mail? &quot;).strip()

if re.search(r&quot;^\w+@\w.+\.edu$&quot;, email, re.IGNORECASE):
    print(&quot;V√°lido&quot;)
else:
    print(&quot;Inv√°lido&quot;)
</code></pre>
<p>Observe como adicionamos um terceiro par√¢metro <code>re.IGNORECASE</code>. Executando este programa com <code>MALAN@HARVARD.EDU</code>, a entrada agora √© considerada v√°lida.</p>
</li>
<li>
<p>Considere o seguinte endere√ßo de e-mail <code>malan@cs50.harvard.edu</code>. Usando nosso c√≥digo acima, isso seria considerado inv√°lido. Por qu√™?</p>
</li>
<li>
<p>Como h√° um ponto adicional, o programa considera isso inv√°lido.</p>
</li>
<li>
<p>Acontece que, olhando para o nosso vocabul√°rio de antes, podemos agrupar ideias juntas.</p>
<pre><code>A|B     ou A ou B
(...)   um grupo
(?:...) vers√£o de n√£o captura
</code></pre>
</li>
<li>
<p>Podemos modificar nosso c√≥digo da seguinte forma:</p>
<pre><code>import re

email = input(&quot;Qual √© o seu e-mail? &quot;).strip()

if re.search(r&quot;^\w+@(\w+\.)?\w+\.edu$&quot;, email, re.IGNORECASE):
    print(&quot;V√°lido&quot;)
else:
    print(&quot;Inv√°lido&quot;)
</code></pre>
<p>Observe como o <code>(\w+\.)?</code> comunica ao compilador que essa nova express√£o pode estar presente uma vez ou n√£o estar presente. Portanto, tanto <code>malan@cs50.harvard.edu</code> quanto <code>malan@harvard.edu</code> s√£o considerados v√°lidos.</p>
</li>
<li>
<p>Curiosamente, as edi√ß√µes que fizemos at√© agora no nosso c√≥digo n√£o abrangem totalmente todas as verifica√ß√µes que podem ser feitas para garantir um endere√ßo de e-mail v√°lido. De fato, aqui est√° a express√£o completa que algu√©m teria que digitar para garantir que um e-mail v√°lido seja inserido:</p>
<pre><code>^[a-zA-Z0-9.!#$%&amp;&#x27;*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$
</code></pre>
</li>
<li>
<p>Existem outras fun√ß√µes dentro da biblioteca <code>re</code> que voc√™ pode achar √∫teis. <code>re.match</code> e <code>re.fullmatch</code> s√£o fun√ß√µes que voc√™ pode achar extremamente √∫teis.</p>
</li>
<li>
<p>Voc√™ pode aprender mais na documenta√ß√£o do Python sobre <a href="https://docs.python.org/3/library/re.html">re</a>.</p>
</li>
</ul>
<h2>Limpeza de Entrada do Usu√°rio</h2>
<ul>
<li>
<p>Voc√™ nunca deve esperar que seus usu√°rios sigam sempre suas expectativas para entrada limpa. De fato, os usu√°rios frequentemente violar√£o suas inten√ß√µes como programador.</p>
</li>
<li>
<p>Existem maneiras de limpar seus dados.</p>
</li>
<li>
<p>Na janela do terminal, digite <code>code format.py</code>. Em seguida, no editor de texto, escreva o c√≥digo da seguinte forma:</p>
<pre><code>name = input(&quot;Qual √© o seu nome? &quot;).strip()
print(f&quot;ol√°, {name}&quot;)
</code></pre>
<p>Observe que criamos, essencialmente, um programa &quot;hello world&quot;. Executando este programa e digitando <code>David</code>, funciona bem! No entanto, ao digitar <code>Malan, David</code>, observe como o programa n√£o funciona como pretendido. Como poder√≠amos modificar nosso programa para limpar essa entrada?</p>
</li>
<li>
<p>Modifique seu c√≥digo da seguinte forma.</p>
<pre><code>name = input(&quot;Qual √© o seu nome? &quot;).strip()
if &quot;,&quot; in name:
    last, first = name.split(&quot;, &quot;)
    name = f&quot;{first} {last}&quot;

print(f&quot;ol√°, {name}&quot;)
</code></pre>
<p>Observe como <code>last, first = name.split(&quot;, &quot;)</code> √© executado se houver uma <code>,</code> no nome. Em seguida, o nome √© padronizado como primeiro e √∫ltimo. Executando nosso c√≥digo, digitando <code>Malan, David</code>, voc√™ pode ver como esse programa limpa pelo menos um cen√°rio em que um usu√°rio digita algo inesperado.</p>
</li>
<li>
<p>Voc√™ pode perceber que ao digitar <code>Malan,David</code> sem espa√ßo, o compilador retorna um erro. Como agora conhecemos um pouco de sintaxe de express√£o regular, vamos aplic√°-la ao nosso c√≥digo:</p>
<pre><code>import re

name = input(&quot;Qual √© o seu nome? &quot;).strip()
matches = re.search(r&quot;^(.+), (.+)$&quot;, name)
if matches:
    last, first = matches.groups()
    name = f&quot;{first} {last}&quot;
print(f&quot;ol√°, {name}&quot;)
</code></pre>
<p>Observe que <code>re.search</code> pode retornar um conjunto de correspond√™ncias extra√≠das da entrada do usu√°rio. Se houver correspond√™ncias retornadas por <code>re.search</code>. Executando este programa, digitando <code>David Malan</code>, observe como a condi√ß√£o <code>if</code> n√£o √© executada e o nome √© retornado. Se voc√™ executar o programa digitando <code>Malan, David</code>, o nome tamb√©m ser√° retornado corretamente.</p>
</li>
<li>
<p>Acontece que podemos solicitar grupos espec√≠ficos usando <code>matches.group</code>. Podemos modificar nosso c√≥digo da seguinte forma:</p>
<pre><code>import re

name = input(&quot;Qual √© o seu nome? &quot;).strip()
matches = re.search(r&quot;^(.+), (.+)$&quot;, name)
if matches:
    last = matches.group(1)
    first = matches.group(2)
    name = f&quot;{first} {last}&quot;
print(f&quot;ol√°, {name}&quot;)
</code></pre>
<p>Observe como, nesta implementa√ß√£o, <code>group</code> n√£o est√° no plural (n√£o h√° <code>s</code>).</p>
</li>
<li>
<p>Nosso c√≥digo pode ser ainda mais simplificado da seguinte forma:</p>
<pre><code>import re

name = input(&quot;Qual √© o seu nome? &quot;).strip()
matches = re.search(r&quot;^(.+), (.+)$&quot;, name)
if matches:
    name = matches.group(2) + &quot; &quot; + matches.group(1)
print(f&quot;ol√°, {name}&quot;)
</code></pre>
<p>Observe como <code>group(2)</code> e <code>group(1)</code> s√£o concatenados com um espa√ßo. O primeiro grupo √© o que est√° √† esquerda da v√≠rgula. O segundo grupo √© o que est√° √† direita da v√≠rgula.</p>
</li>
<li>
<p>Perceba ainda que ao digitar <code>Malan,David</code> sem espa√ßo nosso c√≥digo ainda falhar√°. Portanto, podemos fazer a seguinte modifica√ß√£o:</p>
<pre><code>import re

name = input(&quot;Qual √© o seu nome? &quot;).strip()
matches = re.search(r&quot;^(.+), *(.+)$&quot;, name)
if matches:
    name = matches.group(2) + &quot; &quot; + matches.group(1)
print(f&quot;ol√°, {name}&quot;)
</code></pre>
<p>Observe a adi√ß√£o do <code>*</code> em nossa declara√ß√£o de valida√ß√£o. Agora, esse c√≥digo aceitar√° e processar√° corretamente <code>Malan,David</code>. Al√©m disso, ele lidar√° corretamente com <code>David,Malan</code>com v√°rios espa√ßos antes de <code> David</code>.</p>
</li>
<li>
<p>√â muito comum utilizar <code>re.search</code> como fizemos nos exemplos anteriores, onde <code>matches</code> est√° em uma linha de c√≥digo posterior. No entanto, podemos combinar essas declara√ß√µes:</p>
<pre><code>import re

name = input(&quot;Qual √© o seu nome? &quot;).strip()
if matches := re.search(r&quot;^(.+), *(.+)$&quot;, name):
    name = matches.group(2) + &quot; &quot; + matches.group(1)
print(f&quot;ol√°, {name}&quot;)
</code></pre>
<p>Observe como combinamos duas linhas de nosso c√≥digo. O operador <code>:=</code> (casco de morsa) atribui um valor da direita para a esquerda e nos permite fazer uma pergunta booleana ao mesmo tempo. Vire a cabe√ßa de lado e voc√™ ver√° por que isso √© chamado de operador de casco de morsa.</p>
</li>
<li>
<p>Voc√™ pode aprender mais na documenta√ß√£o do Python sobre express√µes regulares (<a href="https://docs.python.org/3/library/re.html">re</a>).</p>
</li>
</ul>
<h2>Extraindo Entrada do Usu√°rio</h2>
<ul>
<li>
<p>At√© agora, validamos a entrada do usu√°rio e limpamos a entrada do usu√°rio.</p>
</li>
<li>
<p>Agora, vamos extrair algumas informa√ß√µes espec√≠ficas da entrada do usu√°rio. Na janela do terminal, digite <code>code twitter.py</code> e o c√≥digo a seguir na janela do editor de texto:</p>
<pre><code>url = input(&quot;URL: &quot;).strip()
print(url)
</code></pre>
<p>Observe que se digitarmos <code>https://twitter.com/davidjmalan</code>, ele mostrar√° exatamente o que o usu√°rio digitou. No entanto, como podemos extrair apenas o nome de usu√°rio e ignorar o resto da URL?</p>
</li>
<li>
<p>Podemos simplesmente remover o in√≠cio da URL padr√£o do Twitter. Podemos tentar isso da seguinte forma:</p>
<pre><code>url = input(&quot;URL: &quot;).strip()

username = url.replace(&quot;https://twitter.com/&quot;, &quot;&quot;)
print(f&quot;Nome de usu√°rio: {username}&quot;)
</code></pre>
<p>Observe como o m√©todo <code>replace</code> nos permite encontrar um item e substitu√≠-lo por outro. Neste caso, estamos encontrando parte da URL e substituindo-a por nada. Ao digitar a URL completa <code>https://twitter.com/davidjmalan</code>, o programa exibe efetivamente o nome de usu√°rio. No entanto, quais s√£o algumas limita√ß√µes desse programa atual?</p>
</li>
<li>
<p>E se o usu√°rio simplesmente digitasse <code>twitter.com</code> em vez de incluir <code>https://</code> e outras partes? Voc√™ pode imaginar muitos cen√°rios em que o usu√°rio pode inserir ou deixar de inserir partes da URL que criariam uma sa√≠da estranha neste programa. Para melhorar este programa, podemos codificar da seguinte forma:</p>
<pre><code>url = input(&quot;URL: &quot;).strip()

username = url.removeprefix(&quot;https://twitter.com/&quot;)
print(f&quot;Nome de usu√°rio: {username}&quot;)
</code></pre>
<p>Observe como utilizamos o m√©todo <code>removeprefix</code>. Este m√©todo remover√° o in√≠cio de uma string.</p>
</li>
<li>
<p>Express√µes regulares simplesmente nos permitem expressar de forma sucinta os padr√µes e metas.</p>
</li>
<li>
<p>Dentro da biblioteca <code>re</code>, h√° um m√©todo chamado <code>sub</code>. Este m√©todo nos permite substituir um padr√£o por outra coisa.</p>
</li>
<li>
<p>A assinatura do m√©todo <code>sub</code> √© a seguinte:</p>
<pre><code>re.sub(padrao, substituicao, string, count=0, flags=0)
</code></pre>
<p>Observe que <code>padrao</code> refere-se √† express√£o regular que estamos procurando. Em seguida, h√° uma string <code>substituicao</code> que podemos substituir pelo padr√£o. Por fim, h√° a <code>string</code> na qual queremos fazer a substitui√ß√£o.</p>
</li>
<li>
<p>Implementando este m√©todo em nosso c√≥digo, podemos modificar nosso programa da seguinte forma:</p>
<pre><code>import re

url = input(&quot;URL: &quot;).strip()

username = re.sub(r&quot;https://twitter.com/&quot;, &quot;&quot;, url)
print(f&quot;Nome de usu√°rio: {username}&quot;)
</code></pre>
<p>Observe como ao executar este programa e inserir <code>https://twitter.com/davidjmalan</code>, ele produz o resultado correto. No entanto, ainda existem alguns problemas em nosso c√≥digo.</p>
</li>
<li>
<p>O protocolo, subdom√≠nio e a possibilidade de o usu√°rio inserir qualquer parte da URL ap√≥s o nome de usu√°rio s√£o todos motivos pelos quais este c√≥digo ainda n√£o √© ideal. Podemos abordar ainda mais essas limita√ß√µes da seguinte forma:</p>
<pre><code>import re

url = input(&quot;URL: &quot;).strip()

username re.sub(r&quot;^(https?://)?(www\.)?twitter\.com/&quot;, &quot;&quot;, url)
print(f&quot;Nome de usu√°rio: {username}&quot;)
</code></pre>
<p>Observe como o acento circunflexo <code>^</code> foi adicionado √† URL. Observe tamb√©m como o ponto <code>.</code> pode ser interpretado incorretamente pelo compilador. Portanto, escapamos dele usando uma barra invertida <code>\</code> para torn√°-lo <code>\.</code> Com a finalidade de tolerar tanto <code>http</code> quanto <code>https</code>, adicionamos um <code>?</code> ao final de <code>https?</code>, tornando o <code>s</code> opcional. Al√©m disso, para acomodar <code>www</code>, adicionamos <code>(www\.)?</code> ao nosso c√≥digo. Por fim, caso o usu√°rio decida omitir completamente o protocolo, o <code>http://</code> ou <code>https://</code> √© tornando opcional usando <code>(https?://)</code>.</p>
</li>
<li>
<p>Ainda assim, estamos esperando cegamente que o usu√°rio insira uma URL que, de fato, possui um nome de usu√°rio.</p>
</li>
<li>
<p>Usando nosso conhecimento de <code>re.search</code>, podemos melhorar ainda mais nosso c√≥digo.</p>
<pre><code>import re

url = input(&quot;URL: &quot;).strip()

matches = re.search(r&quot;^https?://(www\.)?twitter\.com/(.+)$&quot;, url, re.IGNORECASE)
if matches:
    print(f&quot;Nome de usu√°rio:&quot;, matches.group(2))
</code></pre>
<p>Observe como estamos procurando a express√£o regular acima na string fornecida pelo usu√°rio. Em particular, estamos capturando o que aparece no final da URL usando a express√£o regular <code>(.+)$</code>. Portanto, se o usu√°rio deixar de inserir uma URL sem um nome de usu√°rio, nenhuma entrada ser√° apresentada.</p>
</li>
<li>
<p>Ainda mais apertando nosso programa, podemos utilizar nosso operador <code>:=</code> da seguinte forma:</p>
<pre><code>import re

url = input(&quot;URL: &quot;).strip()

if matches := re.search(r&quot;^https?://(?:www\.)?twitter\.com/(.+)$&quot;, url, re.IGNORECASE):
    print(f&quot;Nome de usu√°rio:&quot;, matches.group(1))
</code></pre>
<p>Observe que <code>?:</code> informa ao compilador que n√£o √© necess√°rio capturar o que est√° nesse local em nossa express√£o regular.</p>
</li>
<li>
<p>Ainda assim, podemos ser mais expl√≠citos para garantir que o nome de usu√°rio inserido seja correto. Usando a documenta√ß√£o do Twitter, podemos adicionar o seguinte √† nossa express√£o regular:</p>
<pre><code>import re

url = input(&quot;URL: &quot;).strip()

if matches := re.search(r&quot;^https?://(?:www\.)?twitter\.com/([a-z0-9_]+)&quot;, url, re.IGNORECASE):
    print(f&quot;Nome de usu√°rio:&quot;, matches.group(1))
</code></pre>
<p>Observe que <code>[a-z0-9_]+</code> informa ao compilador para esperar apenas <code>a-z</code>, <code>0-9</code> e <code>_</code> como parte da express√£o regular. O <code>+</code> indica que esperamos um ou mais caracteres.</p>
</li>
<li>
<p>Voc√™ pode aprender mais na documenta√ß√£o de Python sobre <a href="https://docs.python.org/3/library/re.html">re</a>.</p>
</li>
</ul>
<h2>Resumindo</h2>
<p>Agora, voc√™ aprendeu uma nova linguagem de express√µes regulares que pode ser utilizada para validar, limpar e extrair a entrada do usu√°rio.</p>
<ul>
<li>Express√µes Regulares</li>
<li>Sensibilidade a mai√∫sculas e min√∫sculas</li>
<li>Limpeza da entrada do usu√°rio</li>
<li>Extra√ß√£o da entrada do usu√°rio</li>
</ul>


        </main>
      </div>
    </div>
  </body>
</html>