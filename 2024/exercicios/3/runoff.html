<!DOCTYPE html>
<html lang="en">

  <head>
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>CS50x em Portugu√™s</title>

    <!-- http://getbootstrap.com/docs/4.5/getting-started/introduction/ -->
    <script src="/static/js/jquery.min.js"></script>
    <script src="/static/js/popper.min.js"></script>
    <script src="/static/js/bootstrap.min.js"></script>

    <!-- https://momentjs.com/, https://momentjs.com/timezone/ -->
    <script src="/static/js/moment.min.js"></script>
    <script src="/static/js/moment-timezone-with-data.min.js"></script>
    <script src="/static/js/luxon.min.js"></script>

    <!-- https://www.algolia.com/doc/guides/building-search-ui/installation/js/ -->
    <script src="/static/js/algoliasearchLite.min.js"></script>
    <script src="/static/js/instantsearch.production.min.js"></script>
    <script src="/static/js/jekyll-theme-cs50.js"></script>

    <script id="MathJax-script" async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="/static/highlight/highlight.min.js"></script>
    <script>
      hljs.initHighlightingOnLoad();
    </script>
    <script src="https://cdn.jsdelivr.net/npm/mermaid@10.8.0/dist/mermaid.min.js"></script>
    <link rel="stylesheet" type="text/css" href="/static/highlight/styles/vs.min.css"/>
    <link rel="stylesheet" href="/static/css/page.css">

    <style>
      code {
        color: black;
        border: 1px solid #dee2e6;
      }

      pre > code {
        padding: 0 !important;
      }

      pre {
        border: 1px solid #dee2e6;
      }

      .mermaid {
        background-color: white !important;
        border: none !important;
      }
    </style>
  </head>

  <body>
    <!-- Markdown Flux Diagrams -->
    <script type="module">
      mermaid.initialize({startOnLoad: true});
    </script>
    <div class="container-fluid">
      <div class="row">
        <aside class="col-md" style="background-color: darkgreen">
  <header>
    <h1>
      <a href="">CS50x em Portugu√™s</a>
    </h1>

    <p>
      <a target="_blank" href=""></a>
      <br/>
      2024
    </p>
  </header>

  <button class="btn btn-sm collapsed d-md-none" aria-controls="nav" aria-expanded="false" data-target="aside &gt; nav" data-toggle="collapse">
    Menu
  </button>

  <nav class="collapse d-md-block" id="nav">
    <hr/>

    <ul>
      <li>
        <a href="/2024/semanas/0.html">Semana
          0</a>
        Scratch üò∫
      </li>
      <li>
        <a href="/2024/semanas/1.html">Semana
          1</a>
        C
      </li>
      <li>
        <a href="/2024/semanas/2.html">Semana
          2</a>
        Arrays
      </li>
      <li>
        <a href="/2024/semanas/3.html">Semana
          3</a>
        Algoritmos
      </li>
      <li>
        <a href="/2024/semanas/4.html">Semana
          4</a>
        Mem√≥ria
      </li>
      <li>
        <a href="/2024/semanas/5.html">Semana
          5</a>
        Estruturas de Dados
      </li>
      <li>
        <a href="/2024/semanas/6.html">Semana
          6</a>
        Python
      </li>
      <li>
        <a href="/2024/semanas/7.html">Semana
          7</a>
        SQL
      </li>
      <li>
        <a href="/2024/semanas/8.html">Semana
          8</a>
        HTML, CSS, JavaScript
      </li>
      <li>
        <a href="/2024/semanas/9.html">Semana
          9</a>
        Flask
      </li>
      <li>
        <a href="/2024/semanas/10.html">Semana
          10</a>
        Seguran√ßa Cibern√©tica
      </li>
    </ul>

    <hr/>

    <ul>
      <li>
        <a href="/2024/projeto.html">Projeto Final</a>
      </li>
    </ul>

    <hr/>

    <ul>
      <li>
        <a href="/2024/honestidade.html">Honestidade Acad√™mica</a>
      </li>
      <li>
        <a href="/2024/certificado.html">Certificado CS50</a>
      </li>
      <li>
        <a href="/2024/perguntas-frequentes.html">Perguntas Frequentes</a>
      </li>
      <li>
        <a href="https://cs50.me/cs50x">Livro de Notas</a>
      </li>
      <li>
        <a href="/2024/equipe.html">Equipe</a>
      </li>
      <li>
        <a href="/2024/plano-de-curso.html">Plano de Curso</a>
      </li>
    </ul>
    <hr/>

    <ul>
      <li>
        <a href="/manual/index.html">P√°ginas do Manual</a>
      </li>
      <li>
        <a href="/2024/estilo.html">Guia de Estilo</a>
      </li>
    </ul>
  </nav>
</aside>
        <main class="col-md markdown-body">
          

  <h1>Segundo turno</h1>
<h2>Problema a resolver</h2>
<p>Voc√™ j√° conhece as elei√ß√µes por pluralidade, que seguem um algoritmo muito simples para determinar o vencedor de uma elei√ß√£o: cada eleitor ganha um voto e vence o candidato com maior n√∫mero de votos.</p>
<p>Mas o voto plural tem algumas desvantagens. O que acontece, por exemplo, em uma elei√ß√£o com tr√™s candidatos e as c√©dulas abaixo s√£o lan√ßadas?</p>
<p><img alt="Cinco c√©dulas, empate entre Alice e Bob" src="https://cs50.harvard.edu/x/2024/psets/3/fptp_ballot_1.png" /></p>
<p>Um voto plural declararia aqui um empate entre Alice e Bob, pois cada um tem dois votos. Mas esse √© o resultado certo?</p>
<p>Existe outro tipo de sistema de vota√ß√£o conhecido como sistema de vota√ß√£o por ordem de prefer√™ncia. Em um sistema de vota√ß√£o por ordem de prefer√™ncia, os eleitores podem votar em mais de um candidato. Em vez de apenas votar em sua primeira escolha, eles podem classificar os candidatos em ordem de prefer√™ncia. As c√©dulas resultantes podem, portanto, se parecer com o abaixo.</p>
<p><img alt="Cinco c√©dulas com prefer√™ncias classificadas" src="https://cs50.harvard.edu/x/2024/psets/3/ranked_ballot_1.png" /></p>
<p>Aqui, cada eleitor, al√©m de especificar seu candidato de primeira prefer√™ncia, tamb√©m indicou sua segunda e terceira escolhas. E agora, o que antes era uma elei√ß√£o empatada poderia ter um vencedor. A corrida estava originalmente empatada entre Alice e Bob, ent√£o Charlie estava fora da disputa. Mas o eleitor que escolheu Charlie preferia Alice a Bob, ent√£o Alice poderia ser declarada vencedora aqui.</p>
<p>A vota√ß√£o por ordem de prefer√™ncia tamb√©m pode resolver outra desvantagem potencial da vota√ß√£o por pluralidade. D√™ uma olhada nas seguintes c√©dulas.</p>
<p><img alt="Nove c√©dulas, com prefer√™ncias classificadas" src="https://cs50.harvard.edu/x/2024/psets/3/ranked_ballot_3.png" /></p>
<p>Quem deveria vencer esta elei√ß√£o? Em uma vota√ß√£o de pluralidade onde cada eleitor escolhe apenas sua primeira prefer√™ncia, Charlie vence esta elei√ß√£o com quatro votos contra apenas tr√™s para Bob e dois para Alice. Mas a maioria dos eleitores (5 do 9) ficaria mais feliz com Alice ou Bob do que com Charlie. Ao considerar as prefer√™ncias classificadas, um sistema de vota√ß√£o pode escolher um vencedor que reflita melhor as prefer√™ncias dos eleitores.</p>
<p>Um desses sistemas de vota√ß√£o por ordem de prefer√™ncia √© o sistema de segundo turno instant√¢neo. Em uma elei√ß√£o de segundo turno instant√¢neo, os eleitores podem classificar quantos candidatos desejarem. Se algum candidato tiver maioria (mais de 50%) dos votos de primeira prefer√™ncia, esse candidato √© declarado vencedor da elei√ß√£o.</p>
<p>Se nenhum candidato tiver mais de 50% dos votos, ent√£o ocorre um "segundo turno instant√¢neo". O candidato que recebeu o menor n√∫mero de votos √© eliminado da elei√ß√£o, e qualquer pessoa que originalmente escolheu aquele candidato como sua primeira prefer√™ncia tem agora sua segunda prefer√™ncia considerada. Por que fazer isso desta maneira? Efetivamente, isso simula o que teria acontecido se o candidato menos popular n√£o tivesse participado da elei√ß√£o para come√ßar.</p>
<p>O processo se repete: se nenhum candidato tiver maioria dos votos, o candidato do √∫ltimo lugar √© eliminado e quem votou nele votar√° na sua pr√≥xima prefer√™ncia (que ainda n√£o foi eliminado). Uma vez que um candidato tenha maioria, esse candidato √© declarado vencedor.</p>
<p>Parece um pouco mais complicado do que uma vota√ß√£o por pluralidade, n√£o √©? Mas sem d√∫vida tem o benef√≠cio de ser um sistema eleitoral em que o vencedor da elei√ß√£o representa com mais precis√£o as prefer√™ncias dos eleitores. Em um arquivo chamado <code>runoff.c</code> em uma pasta chamada <code>runoff</code>, crie um programa para simular uma elei√ß√£o de segundo turno.</p>
<h2>Demonstra√ß√£o</h2>
<script async="" data-autoplay="1" data-cols="100" data-loop="1" data-rows="12" id="asciicast-4rhSKgaZQsY93RLj0xgu7nwKB" src="https://asciinema.org/a/4rhSKgaZQsY93RLj0xgu7nwKB.js"></script>

<h2>C√≥digo de distribui√ß√£o</h2>
<h3>Baixe o c√≥digo de distribui√ß√£o</h3>
<p>Fa√ßa login em <a href="https://cs50.dev/">cs50.dev</a>, clique em sua janela de terminal e execute <code>cd</code> sozinho. Voc√™ deve descobrir que o prompt de sua janela de terminal se assemelha ao seguinte:</p>
<pre><code>  $
</code></pre>
<p>Execute a seguir</p>
<pre><code>  wget https://cdn.cs50.net/2023/fall/psets/3/runoff.zip
</code></pre>
<p>para baixar um ZIP chamado <code>runoff.zip</code> no seu c√≥digo-fonte.</p>
<p>Ent√£o execute</p>
<pre><code>  unzip runoff.zip
</code></pre>
<p>para criar uma pasta chamada <code>runoff</code>. Voc√™ n√£o precisa mais do arquivo ZIP, ent√£o voc√™ pode executar</p>
<pre><code>  rm runoff.zip
</code></pre>
<p>e responda com "y" seguido de Enter no prompt para remover o arquivo ZIP que voc√™ baixou.</p>
<p>Agora digite</p>
<pre><code>  cd runoff
</code></pre>
<p>seguido por Enter para se mover (ou seja, abrir) esse diret√≥rio. Seu prompt agora deve se parecer com o abaixo.</p>
<pre><code>  runoff/ $
</code></pre>
<p>Se tudo deu certo, voc√™ deve executar</p>
<pre><code>  ls
</code></pre>
<p>e veja um arquivo chamado <code>runoff.c</code>. A execu√ß√£o de <code>code runoff.c</code> deve abrir o arquivo onde voc√™ digitar√° seu c√≥digo para este conjunto de problemas. Caso contr√°rio, refa√ßa seus passos e veja se consegue determinar onde errou!</p>
<h3>Entenda o c√≥digo em <code>runoff.c</code></h3>
<p>Sempre que voc√™ for estender a funcionalidade do c√≥digo existente, √© melhor ter certeza de que primeiro o entendeu no seu estado atual.</p>
<p>Veja o topo de <code>runoff.c</code> primeiro. Duas constantes s√£o definidas: <code>MAX_CANDIDATES</code> para o n√∫mero m√°ximo de candidatos na elei√ß√£o, and <code>MAX_VOTERS</code> para o n√∫mero m√°ximo de eleitores na elei√ß√£o.</p>
<pre><code>  // M√°ximo de eleitores e candidatos
  #define MAX_VOTERS 100
  #define MAX_CANDIDATES 9
</code></pre>
<p>Observe que <code>MAX_CANDIDATES</code> √© usado para dimensionar um array, <code>candidates</code>.</p>
<pre><code>  // Array de candidatos
  candidate candidates[MAX_CANDIDATES];
</code></pre>
<p><code>candidates</code> √© um array de <code>candidate</code>. Em <code>runoff.c</code> um <code>candidate</code> √© uma <code>struct</code>. Cada <code>candidate</code> tem um campo <code>string</code> para seu <code>name</code>, um <code>int</code> representando o n√∫mero de <code>votes</code> eles tem atualmente, e um valor <code>bool</code> chamado <code>eliminated</code> que indica se o candidato foi eliminado da elei√ß√£o. O array <code>candidates</code> acompanhar√° todos os candidatos na elei√ß√£o.</p>
<pre><code>  // Os candidatos tem nome, contagem de votos e status de elimina√ß√£o
  typedef struct
  {
      string name;
      int votes;
      bool eliminated;
  }
  candidate;
</code></pre>
<p>Agora voc√™ pode entender melhor as <code>preferences</code>, o array bidimensional. O array <code>preferences[i]</code> representar√° todas as prefer√™ncias para o eleitor n√∫mero <code>i</code>. O inteiro, <code>preferences[i][j]</code>, armazenar√° o √≠ndice do candidato, do array <code>candidates</code>, que √© a <code>j</code>-√©sima prefer√™ncia do eleitor <code>i</code>.</p>
<pre><code>  // preferences[i][j] √© a j-√©sima prefer√™ncia para o eleitor i
  int preferences[MAX_VOTERS][MAX_CANDIDATES];
</code></pre>
<p>O programa tamb√©m tem duas vari√°veis globais: <code>voter_count</code> e <code>candidate_count</code>.</p>
<pre><code>  // N√∫mero de eleitores e candidatos
  int voter_count;
  int candidate_count;
</code></pre>
<p>Agora para <code>main</code>. Observe que ap√≥s determinar o n√∫mero de candidatos e o n√∫mero de eleitores, o loop de vota√ß√£o principal come√ßa, dando a cada eleitor uma chance de votar. Quando o eleitor entra em suas prefer√™ncias, a fun√ß√£o <code>vote</code> √© chamada para manter o controle de todas as prefer√™ncias. Se em algum momento, a c√©dula for considerada inv√°lida, o programa √© encerrado.</p>
<p>Assim que todos os votos s√£o contados, outro loop come√ßa: este continuar√° passando pelo processo de segundo turno para verificar um vencedor e eliminar o √∫ltimo candidato at√© que haja um vencedor.</p>
<p>A primeira chamada aqui √© para uma fun√ß√£o chamada <code>tabulate</code>, que deve observar todas as prefer√™ncias dos eleitores e calcular o total atual de votos, olhando para o candidato de primeira escolha de cada eleitor que ainda n√£o foi eliminado. Em seguida, a fun√ß√£o <code>print_winner</code> deve imprimir o vencedor se houver um; se houver o programa acabou. Mas, caso contr√°rio, o programa precisa determinar o menor n√∫mero de votos que qualquer pessoa ainda na elei√ß√£o recebeu (por meio de uma chamada para <code>find_min</code>). Se acontecer de todos na elei√ß√£o estarem empatados com o mesmo n√∫mero de votos (conforme determinado pela fun√ß√£o <code>is_tie</code>), a elei√ß√£o √© declarada empatada; caso contr√°rio, o candidato (ou candidatos) do √∫ltimo lugar √© eliminado da elei√ß√£o por meio de uma chamada para a fun√ß√£o <code>eliminate</code>.</p>
<p>Se voc√™ olhar um pouco mais abaixo no arquivo, ver√° que o resto das fun√ß√µes‚Äî<code>vote</code>, <code>tabulate</code>, <code>print_winner</code>, <code>find_min</code>, <code>is_tie</code>, e <code>eliminate</code>‚Äîrestam para voc√™ completar! <strong>Voc√™ n√£o deve modificar nada em <code>runoff.c</code> al√©m disso (e a inclus√£o de cabe√ßalhos adicionais, se voc√™ quiser).</strong></p>
<h2>Dicas</h2>
<h3>Complete a fun√ß√£o <code>vote</code></h3>
<ul>
<li>A fun√ß√£o leva tr√™s argumentos: <code>voter</code>, <code>rank</code> e <code>name</code>.</li>
<li>Se <code>name</code> corresponder ao nome de um candidato v√°lido, voc√™ deve atualizar o array de prefer√™ncias global para indicar que o eleitor <code>voter</code> tem aquele candidato como sua prefer√™ncia de <code>rank</code>. Lembre-se de que <code>0</code> √© a primeira prefer√™ncia, <code>1</code> √© a segunda prefer√™ncia, etc. Voc√™ pode presumir que nenhum dois candidatos ter√£o o mesmo nome.</li>
<li>Se a prefer√™ncia for registrada com sucesso, a fun√ß√£o deve retornar <code>true</code>. Caso contr√°rio, a fun√ß√£o deve retornar <code>false</code>. Considere, por exemplo, quando <code>name</code> n√£o √© o nome de um dos candidatos.</li>
</ul>
<p>Ao escrever seu c√≥digo, considere estas dicas:</p>
<ul>
<li>Lembre-se que <code>candidate_count</code> armazena o n√∫mero de candidatos na elei√ß√£o.</li>
<li>Lembre-se que voc√™ pode usar <a href="https://man.cs50.io/3/strcmp"><code>strcmp</code></a> para comparar duas strings.</li>
<li>Lembre-se que <code>preferences[i][j]</code> armazena o √≠ndice do candidato que √© a <code>j</code>-√©sima prefer√™ncia para o <code>i</code>-√©simo eleitor.</li>
</ul>
<h3>Complete a fun√ß√£o <code>tabulate</code></h3>
<ul>
<li>A fun√ß√£o deve atualizar o n√∫mero de <code>votos</code> que cada candidato tem neste est√°gio do segundo turno.</li>
<li>Lembre-se de que em cada est√°gio do segundo turno, cada eleitor efetivamente vota no seu candidato de maior prefer√™ncia que ainda n√£o foi eliminado.</li>
</ul>
<p>Ao escrever o c√≥digo, considere essas dicas:</p>
<ul>
<li>Lembre-se de que <code>voter_count</code> armazena o n√∫mero de eleitores na elei√ß√£o e que, para cada eleitor em nossa elei√ß√£o, queremos contar um boletim de voto.</li>
<li>Lembre-se de que para um eleitor 'i', o candidato de sua primeira escolha √© representado por  <code>preferences[i][0]</code>, o candidato de sua segunda escolha por <code>preferences[i][1]</code>, etc.</li>
<li>Lembre-se de que a <code>candidate</code> <code>struct</code> tem um campo chamado <code>eliminated</code>, que ser√° 'true' se o candidato foi eliminado da elei√ß√£o.</li>
<li>Lembre-se de que a <code>candidato</code> <code>struct</code> tem um campo chamado <code>votos</code>, que voc√™ provavelmente desejar√° atualizar para o candidato preferido de cada eleitor.</li>
<li>Lembre-se de que depois de dar um voto para o primeiro candidato n√£o eliminado de um eleitor, voc√™ deve parar por a√≠, n√£o continuar sua vota√ß√£o. Voc√™ pode sair de um loop mais cedo usando 'break' dentro de um condicional.</li>
</ul>
<h3>Complete a fun√ß√£o <code>print_winner</code></h3>
<ul>
<li>Se algum candidato tiver mais da metade dos votos, seu nome deve ser impresso e a fun√ß√£o deve retornar 'true'.</li>
<li>Se ningu√©m ganhou a elei√ß√£o ainda, a fun√ß√£o deve retornar <code>false</code>.</li>
</ul>
<p>Ao escrever o c√≥digo, considere esta dica:</p>
<ul>
<li>Lembre-se de que <code>voter_count</code> armazena o n√∫mero de eleitores na elei√ß√£o. Diante disso, como voc√™ expressaria o n√∫mero de votos necess√°rios para vencer a elei√ß√£o?</li>
</ul>
<h3>Complete a fun√ß√£o <code>find_min</code></h3>
<ul>
<li>A fun√ß√£o deve retornar o total m√≠nimo de votos para qualquer candidato que ainda esteja na elei√ß√£o.</li>
</ul>
<p>Ao escrever o c√≥digo, considere esta dica:</p>
<ul>
<li>Voc√™ provavelmente desejar√° percorrer os candidatos para encontrar aquele que ainda est√° na elei√ß√£o e tem o menor n√∫mero de votos. Quais informa√ß√µes voc√™ deve acompanhar ao percorrer os candidatos?</li>
</ul>
<h3>Complete a fun√ß√£o <code>is_tie</code></h3>
<ul>
<li>A fun√ß√£o recebe um argumento <code>min</code>, que ser√° o n√∫mero m√≠nimo de votos que qualquer pessoa na elei√ß√£o atualmente tem.</li>
<li>A fun√ß√£o deve retornar <code>true</code> se cada candidato restante na elei√ß√£o tiver o mesmo n√∫mero de votos e deve retornar <code>false</code> caso contr√°rio.</li>
</ul>
<p>Ao escrever o c√≥digo, considere esta dica:</p>
<ul>
<li>Lembre-se de que h√° um empate se cada candidato ainda na elei√ß√£o tiver o mesmo n√∫mero de votos. Observe tamb√©m que a fun√ß√£o <code>is_tie</code> recebe um argumento <code>min</code>, que √© o menor n√∫mero de votos que qualquer candidato tem atualmente. Como voc√™ pode usar <code>min</code> para determinar se a elei√ß√£o est√° empatada (ou, inversamente, n√£o empatada)?</li>
</ul>
<h3>Complete a fun√ß√£o <code>eliminate</code></h3>
<ul>
<li>A fun√ß√£o recebe um argumento <code>min</code>, que ser√° o n√∫mero m√≠nimo de votos que qualquer pessoa na elei√ß√£o atualmente tem.</li>
<li>A fun√ß√£o deve eliminar o candidato (ou candidatos) que tiver <code>min</code> n√∫mero de votos.</li>
</ul>
<h2>Passo a passo</h2>
<div class="ratio ratio-16x9" data-video=""><iframe allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen="" class="border" data-video="" src="https://www.youtube.com/embed/-Vc5aGywKxo?modestbranding=0&amp;rel=0&amp;showinfo=0"></iframe></div>

<h2>Como testar.</h2>
<p>Certifique-se de testar seu c√≥digo para garantir que ele lida com...</p>
<ul>
<li>Uma elei√ß√£o com qualquer n√∫mero de candidatos (at√© o 'MAX' de '9')</li>
<li>Vota√ß√£o em um candidato pelo nome</li>
<li>Votos inv√°lidos para candidatos que n√£o est√£o na c√©dula</li>
<li>Imprimir o vencedor da elei√ß√£o se houver apenas um</li>
<li>N√£o eliminar ningu√©m no caso de empate entre todos os candidatos restantes</li>
</ul>
<h3>Corre√ß√£o</h3>
<pre><code>  check50 cs50/problems/2024/x/runoff
</code></pre>
<h3>Estilo</h3>
<pre><code>  style50 runoff.c
</code></pre>
<h2>Como enviar</h2>
<pre><code>  submit50 cs50/problems/2024/x/runoff
</code></pre>


        </main>
      </div>
    </div>
  </body>

</html>