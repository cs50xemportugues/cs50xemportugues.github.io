<!DOCTYPE html>

<html lang="en-us">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />
    <meta
      property="og:description"
      content="Introdu√ß√£o √†s faculdades intelectuais da ci√™ncia da computa√ß√£o e a arte da programa√ß√£o. Este curso ensina aos estudantes a como pensar algoritmicamente e a como resulver problemas eficientemente. Os t√≥picos incluem abstra√ß√£o, algoritmos, estruturas de dados, encapsula√ß√£o, gerenciamento de recursos, seguran√ßa, e engenharia de software. O curso inclui as linguagens C, Python, e SQL, assim como HTML, CSS, e JavaScript. As listas de problemas s√£o inspiradas pelas √°reas das artes, humanas, ci√™ncias sociais, e ci√™ncias naturais. O curso culmina em um projeto final."
    />

    <meta property="og:image" content="" />
    <meta property="og:title" content="CS50" />
    <link
      href="https://cs50.harvard.edu/summer/2020/favicon.ico?1593528821"
      rel="icon"
    />

    <script
      src="https://kit.fontawesome.com/df44463090.js"
      crossorigin="anonymous"
    ></script>

    <link
      href="/static/css/all.min.css"
      rel="stylesheet"
    />

    <link
      href="/static/css/page.css"
      rel="stylesheet"
    />

    <link
      rel="stylesheet"
      type="text/css"
      href="/static/css/personalizado.css"
    />

    <!-- http://getbootstrap.com/docs/4.5/getting-started/introduction/ -->
    <script src="/static/js/jquery.min.js"></script>
    <script src="/static/js/popper.min.js"></script>
    <script src="/static/js/bootstrap.min.js"></script>

    <!-- https://momentjs.com/, https://momentjs.com/timezone/ -->
    <script src="/static/js/moment.min.js"></script>
    <script src="/static/js/moment-timezone-with-data.min.js"></script>
    <script src="/static/js/luxon.min.js"></script>

    <!-- https://www.algolia.com/doc/guides/building-search-ui/installation/js/ -->
    <script src="/static/js/algoliasearchLite.min.js"></script>
    <script src="/static/js/instantsearch.production.min.js"></script>
    <script src="/static/js/jekyll-theme-cs50.js"></script>

    <title>CS50x em Portugu√™s</title>
  </head>

  <body>
    <div class="container-fluid">
      <div class="row">
        <aside class="col-md" style="background-color: green">
  <header>
    <h1 data-id="this-is-cs50">
      <a href="/2023/index.html">Este √© o CS50x</a>
    </h1>

    <p>
      <a href="https://cs50.harvard.edu/x"
        >O curso de Ci√™ncias da Computa√ß√£o da Universidade de Harvard</a
      ><br />2023
    </p>
  </header>

  <button
    aria-controls="nav"
    aria-expanded="false"
    class="btn btn-sm collapsed d-md-none"
    data-target="aside &gt; nav"
    data-toggle="collapse"
  >
    Menu
  </button>

  <nav class="collapse d-md-block" id="nav">
    <hr />

    <ul class="fa-ul">
      <li data-marker="*">
        <span class="fa-li"><i class="fas fa-circle"></i></span>
        <a href="/2023/semanas/0.html"
          >Semana 0
          <span class="semana-titulo"
            >Scratch <strong class="text-white">üò∫</strong></span
          ></a
        >
      </li>

      <!--
      <li data-marker="*">
        <span class="fa-li"><i class="fas fa-circle"></i></span>
        <a href="/2023/semanas/1.html"
          >Semana 1 <span class="semana-titulo">C</span></a
        >
      </li>

      
      <li data-marker="*">
        <span class="fa-li"><i class="fas fa-circle"></i></span>
        <a href="/2023/semanas/2.html"
          >Semana 2 <span class="semana-titulo">Vetores</span></a
        >
      </li>

      <li data-marker="*">
        <span class="fa-li"><i class="fas fa-circle"></i></span>
        <a href="/2023/semanas/3.html"
          >Semana 3 <span class="semana-titulo">Algoritmos</span></a
        >
      </li>

      <li data-marker="*">
        <span class="fa-li"><i class="fas fa-circle"></i></span>
        <a href="/2023/semanas/4.html"
          >Semana 4 <span class="semana-titulo">Mem√≥ria</span></a
        >
      </li>

      <li data-marker="*">
        <span class="fa-li"><i class="fas fa-circle"></i></span>
        <a href="/2023/semanas/5.html"
          >Semana 5 <span class="semana-titulo">Estruturas de Dados</span></a
        >
      </li>

      <li data-marker="*">
        <span class="fa-li"><i class="fas fa-circle"></i></span>
        <a href="/2023/semanas/6.html"
          >Semana 6 <span class="semana-titulo">Python</span></a
        >
      </li>

      <li data-marker="*">
        <span class="fa-li"><i class="fas fa-circle"></i></span>
        <a href="/2023/semanas/7.html"
          >Semana 7 <span class="semana-titulo">SQL</span></a
        >
      </li>

      <li data-marker="*">
        <span class="fa-li"><i class="fas fa-circle"></i></span>
        <a href="/2023/semanas/8.html"
          >Semana 8 <span class="semana-titulo">HTML, CSS, JavaScript</span></a
        >
      </li>

      <li data-marker="*">
        <span class="fa-li"><i class="fas fa-circle"></i></span>
        <a href="/2023/semanas/9.html"
          >Semana 9 <span class="semana-titulo">Flask</span></a
        >
      </li>

      <li data-marker="*">
        <span class="fa-li"><i class="fas fa-circle"></i></span>
        <a href="/2023/semanas/10.html"
          >Semana 10 <span class="semana-titulo">Emoji</span></a
        >
      </li>
    </ul>

    <ul class="fa-ul">
      <li data-marker="*" class="small">
        <span class="fa-li"><i class="fas fa-square"></i></span
        ><a href="/2023/semanas/ciberseguranca.html"
          >Ciberseguran√ßa</a
        >
      </li>
    </ul>

  <hr />
    <ul>
      <li data-marker="*">
        <a href="/2023/projeto_final.html">Projeto Final</a>
      </li>
    </ul> -->

    <hr />

    <ul class="fa-ul">
      <li data-marker="*">
        <span class="fa-li"><i class="fas fa-circle"></i></span>
        <a href="/2023/honestidade.html"
          >Honestidade Acad√™mica</a
        >
      </li>
      <li data-marker="*">
        <span class="fa-li"><i class="fas fa-circle"></i></span>
        <a href="/2023/certificado.html"
          >Certificado CS50</a
        >
      </li>
      <!--
      <li data-marker="*">
        <span class="fa-li"><i class="fas fa-circle"></i></span>
        <a href="/2023/perguntas_frequentes.html"
          >Perguntas Frequentes</a
        >
      </li>
      -->
      <!--
      <li data-marker="*">
        <span class="fa-li"><i class="fas fa-circle"></i></span>
        <a href="/2023/equipe.html">Equipe</a>
      </li>-->
      <li data-marker="*">
        <span class="fa-li"><i class="fas fa-circle"></i></span>
        <a href="/2023/curriculo.html">Curr√≠culo do Curso</a>
      </li>
      <li data-marker="*">
        <span class="fa-li"><i class="fas fa-circle"></i></span>
        <a href="https://cs50.me/cs50x">Boletim de Notas</a>
      </li>
    </ul>

    <hr />

    <ul class="small fa-ul">
      <li data-marker="*">
        <span class="fa-li"><i class="fas fa-circle"></i></span>
        <a href="https://cs50.dev">Visual Studio Code</a>
      </li>
      <li data-marker="*">
        <span class="fa-li"><i class="fas fa-circle"></i></span>
        <a href="https://sqlitebrowser.org/">Navegador SQLite</a>
      </li>
      <li data-marker="*">
        <span class="fa-li"><i class="fas fa-circle"></i></span>
        <a href="https://adminer.cs50.net/">Navegador PostgreSQL</a>
      </li>
      <!--
            <li data-marker="*">
                <span class="fa-li"><i class="fas fa-circle"></i></span>
                <a href="https://man.cs50.io/">Manual CS50</a>
            </li>-->
      <li data-marker="*">
        <span class="fa-li"><i class="fas fa-circle"></i></span>
        <a href="https://docs.python.org/pt-br/3/search.html"
          >Documenta√ß√£o Python</a
        >
      </li>
      <li data-marker="*">
        <span class="fa-li"><i class="fas fa-circle"></i></span>
        <a href="https://pt.stackoverflow.com/">Stack Overflow</a>
      </li>

    </ul>

    <hr />

    <p style="font-size: initial">
      <a href="/2023/obrigado.html"></a></p>
  </nav>

  <footer></footer>
</aside>

        <main class="col-md markdown-body" style="margin-bottom: 286px">
          
<h1>C$50 Finance</h1>
<div class="alert" data-alert="warning" role="alert"><p>O c√≥digo de distribui√ß√£o desse conjunto de problemas foi recentemente alterado. Se voc√™ baixou o c√≥digo de distribui√ß√£o antes de <a data-local="2022-12-01T00:00:00+00:00" href="https://time.cs50.io/20221201T000000Z">2022-12-01T00:00:00+00:00</a>, execute os seguintes comandos no terminal no diret√≥rio <code class="language-plaintext highlighter-rouge">finance</code> para baixar a √∫ltima vers√£o do c√≥digo de distribui√ß√£o.</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ rm helpers.py
$ wget https://cdn.cs50.net/2022/fall/psets/9/finance/helpers.py
<p></code></pre></div></div></div></p>
<p>Implemente um site atrav√©s do qual os usu√°rios possam &quot;comprar&quot; e &quot;vender&quot; a√ß√µes, como abaixo.</p>
<p><img src="https://cs50.harvard.edu/x/2023/psets/9/finance/finance.png" alt="C$50 Finance" /></p>
<h2>Contexto</h2>
<p>Se voc√™ n√£o tem certeza do que significa comprar e vender a√ß√µes (ou seja, a√ß√µes de uma empresa), v√° <a href="https://www.investopedia.com/articles/basics/06/invest1000.asp">aqui</a> para um tutorial.</p>
<p>Voc√™ est√° prestes a implementar o C$50 Finance, um aplicativo web atrav√©s do qual voc√™ pode gerenciar portf√≥lios de a√ß√µes. Essa ferramenta n√£o s√≥ permitir√° que voc√™ verifique os pre√ßos reais das a√ß√µes e os valores de portf√≥lio, mas tamb√©m permitir√° que voc√™ compre (ok, &quot;compre&quot;) e venda (ok, &quot;venda&quot;) a√ß√µes pesquisando <a href="https://iextrading.com/developer/">IEX</a> para os pre√ßos das a√ß√µes.</p>
<p>De fato, a IEX permite que voc√™ baixe cota√ß√µes de a√ß√µes por meio de sua API (interface de programa√ß√£o de aplicativos) usando URLs como <code>https://api.iex.cloud/v1/data/core/quote/nflx?token=API_KEY</code>. Observe como o s√≠mbolo da Netflix (NFLX) est√° incorporado a este URL; √© assim que a IEX sabe de quem dados retornar. Esse link n√£o retornar√° nenhum dado porque a IEX exige que voc√™ use uma chave API (mais sobre isso daqui a pouco), mas se retornasse, voc√™ veria uma resposta no formato JSON (JavaScript Object Notation) como este:</p>
<pre><code>{
  &quot;avgTotalVolume&quot;: 15918066,
  &quot;calculationPrice&quot;: &quot;close&quot;,
  &quot;change&quot;: -8.27,
  &quot;changePercent&quot;: -0.03074,
  &quot;close&quot;: 260.79,
  &quot;closeSource&quot;: &quot;official&quot;,
  &quot;closeTime&quot;: 1667592000924,
  &quot;companyName&quot;: &quot;Netflix Inc.&quot;,
  &quot;currency&quot;: &quot;USD&quot;,
  &quot;delayedPrice&quot;: 260.81,
  &quot;delayedPriceTime&quot;: 1667591988947,
  &quot;extendedChange&quot;: 0.21,
  &quot;extendedChangePercent&quot;: 0.00081,
  &quot;extendedPrice&quot;: 261,
  &quot;extendedPriceTime&quot;: 1667606392772,
  &quot;high&quot;: 274.97,
  &quot;highSource&quot;: &quot;15 minute delayed price&quot;,
  &quot;highTime&quot;: 1667592000831,
  &quot;iexAskPrice&quot;: None,
  &quot;iexAskSize&quot;: None,
  &quot;iexBidPrice&quot;: None,
  &quot;iexBidSize&quot;: None,
  &quot;iexClose&quot;: 260.85,
  &quot;iexCloseTime&quot;: 1667591999754,
  &quot;iexLastUpdated&quot;: None,
  &quot;iexMarketPercent&quot;: None,
  &quot;iexOpen&quot;: 271.67,
  &quot;iexOpenTime&quot;: 1667568602197,
  &quot;iexRealtimePrice&quot;: None,
  &quot;iexRealtimeSize&quot;: None,
  &quot;iexVolume&quot;: None,
  &quot;lastTradeTime&quot;: 1667591999820,
  &quot;latestPrice&quot;: 260.79,
  &quot;latestSource&quot;: &quot;Close&quot;,
  &quot;latestTime&quot;: &quot;Nov 4, 2022&quot;,
  &quot;latestUpdate&quot;: 1667592000924,
  &quot;latestVolume&quot;: 11124694,
  &quot;low&quot;: 255.32,
  &quot;lowSource&quot;: &quot;15 minute delayed price&quot;,
  &quot;lowTime&quot;: 1667584872696,
  &quot;marketCap&quot;: 115215720136,
  &quot;oddLotDelayedPrice&quot;: 260.81,
  &quot;oddLotDelayedPriceTime&quot;: 1667591988947,
  &quot;open&quot;: 271.9,
  &quot;openTime&quot;: 1667568601785,
  &quot;openSource&quot;: &quot;official&quot;,
  &quot;peRatio&quot;: 23.39,
  &quot;previousClose&quot;: 269.06,
  &quot;previousVolume&quot;: 7057350,
  &quot;primaryExchange&quot;: &quot;NASDAQ&quot;,
  &quot;symbol&quot;: &quot;NFLX&quot;,
  &quot;volume&quot;: 11124694,
  &quot;week52High&quot;: 700.99,
  &quot;week52Low&quot;: 162.71,
  &quot;ytdChange&quot;: -0.5978504176349512,
  &quot;isUSMarketOpen&quot;: false
}
</code></pre>
<p>Observe como, entre as chaves, h√° uma lista separada por v√≠rgulas de pares chave-valor, com dois pontos separando cada chave de seu valor.</p>
<p>Vamos agora direcionar nossa aten√ß√£o para obter o c√≥digo de distribui√ß√£o deste problema!</p>
<h2>Come√ßando</h2>
<p>Fa√ßa login em <a href="https://code.cs50.io/">code.cs50.io</a>, clique na sua janela de terminal e execute <code>cd</code> por si s√≥. Voc√™ dever√° ver que o prompt da sua janela de terminal se parece com o abaixo:</p>
<pre><code> $
</code></pre>
<p>Em seguida, execute</p>
<pre><code>wget https://cdn.cs50.net/2022/fall/psets/9/finance.zip
</code></pre>
<p>para baixar um ZIP chamado <code>finance.zip</code> para o seu espa√ßo de c√≥digos.</p>
<p>Depois execute</p>
<pre><code> unzip finance.zip
</code></pre>
<p>para criar uma pasta chamada <code>finance</code>. Voc√™ n√£o precisa mais do arquivo ZIP, por isso voc√™ pode executar</p>
<pre><code> rm finance.zip
</code></pre>
<p>e responda com &quot;y&quot; seguido de Enter para remover o arquivo ZIP que voc√™ baixou.</p>
<p>Agora digite</p>
<pre><code>cd finance
</code></pre>
<p>seguido de Enter para se mover para dentro (ou seja, abrir) desse diret√≥rio. Seu prompt dever√° se parecer com o abaixo.</p>
<pre><code>finance/ $
</code></pre>
<p>Execute <code>ls</code> por si s√≥ e voc√™ dever√° ver alguns arquivos e pastas:</p>
<pre><code>app.py  finance.db  helpers.py  requirements.txt  static/  templates/
</code></pre>
<p>Se voc√™ tiver algum problema, siga essas mesmas etapas novamente e veja se voc√™ pode determinar onde errou!</p>
<h3>Configurando</h3>
<p>Antes de come√ßar nesta tarefa, voc√™ precisar√° se registrar em uma chave de API para poder consultar os dados da IEX. Para fazer isso, siga estas etapas:</p>
<ul>
<li>Visite <a href="https://iexcloud.io/cloud-login#/register/">iexcloud.io/cloud-login#/register/</a>.</li>
<li>Selecione o tipo de conta ‚ÄúIndividual‚Äù, insira seu nome, endere√ßo de e-mail e uma senha e clique em &quot;Criar conta&quot;.</li>
<li>Depois de registrada, role para baixo at√© ‚ÄúComece de gra√ßa‚Äù e clique em ‚ÄúSelecionar plano inicial‚Äù para escolher o plano gratuito. <em>Observe que este plano s√≥ funciona por 30 dias a partir do dia em que voc√™ cria sua conta.</em> Mantenha isso em mente se voc√™ pretende usar esta mesma API para o seu projeto final!</li>
<li>Depois de confirmar sua conta por meio de um email de confirma√ß√£o, visite <a href="https://iexcloud.io/console/tokens">https://iexcloud.io/console/tokens</a>.</li>
<li>Copie a chave que aparece na coluna <em>Token</em> (deve come√ßar com <code>pk_</code>).</li>
<li>Na sua janela de terminal, execute:</li>
</ul>
<pre>
$ export API_KEY=value
</pre>
<p>onde <code>value</code> √© o valor colado, sem nenhum espa√ßo imediatamente antes ou depois do <code>=</code>. Voc√™ tamb√©m pode querer colar esse valor em um documento de texto em algum lugar, caso precise dele novamente mais tarde.</p>
<h3>Execu√ß√£o</h3>
<p>Inicie o servidor web incorporado do Flask (dentro do diret√≥rio <code>finance/</code>):</p>
<pre><code>$ flask run
</code></pre>
<p>Visite a URL retornada pelo <code>flask</code> para ver o c√≥digo de distribui√ß√£o em a√ß√£o. No entanto, ainda n√£o √© poss√≠vel fazer login ou se registrar!</p>
<p>Dentro do diret√≥rio <code>finance/</code>, execute <code>sqlite3 finance.db</code> para abrir o arquivo <code>finance.db</code> com o <code>sqlite3</code>. Se voc√™ executar o comando <code>.schema</code> no prompt do SQLite, notar√° que <code>finance.db</code> vem com uma tabela chamada <code>users</code>. D√™ uma olhada na estrutura (ou seja, esquema) dela. Note que, por padr√£o, novos usu√°rios receber√£o $ 10.000 em dinheiro. Mas se voc√™ executar <code>SELECT * FROM users;</code>, ainda n√£o haver√° (ou seja, linhas) nenhum usu√°rio para navegar.</p>
<p>Outra maneira de visualizar <code>finance.db</code> √© com um programa chamado phpLiteAdmin. Clique em <code>finance.db</code> no navegador de arquivos do seu espa√ßo de codifica√ß√£o e, em seguida, clique no link mostrado abaixo do texto ‚ÄúPlease visit the following link to authorize GitHub Preview‚Äù. Voc√™ deve ver informa√ß√µes sobre o banco de dados em si, bem como uma tabela, <code>users</code>, assim como voc√™ viu no prompt <code>sqlite3</code> com <code>.schema</code>.</p>
<h3>Compreens√£o</h3>
<h4><code>app.py</code></h4>
<p>Abra o arquivo <code>app.py</code>. No topo do arquivo, h√° um monte de importa√ß√µes, entre elas o m√≥dulo SQL da CS50 e algumas fun√ß√µes auxiliares. Mais sobre isso em breve.</p>
<p>Ap√≥s configurar o <a href="https://flask.pocoo.org/">Flask</a>, note como este arquivo desativa o cache de respostas (desde que esteja no modo de depura√ß√£o, que √© o caso por padr√£o no seu espa√ßo de codifica√ß√£o do code50), para evitar o caso de fazer uma altera√ß√£o em algum arquivo, mas o navegador n√£o perceber. Observe a seguir como ele configura o <a href="https://jinja.pocoo.org/">Jinja</a> com um ‚Äúfiltro‚Äù personalizado, <code>usd</code>, uma fun√ß√£o (definida em <code>helpers.py</code>) que facilitar√° a formata√ß√£o dos valores como d√≥lares americanos (USD). Em seguida, ele configura ainda mais o Flask para armazenar <a href="https://flask.palletsprojects.com/en/1.1.x/quickstart/#sessions">sess√µes</a> no sistema de arquivos local (ou seja, disco) em vez de armazen√°-los dentro de cookies (assinados digitalmente), que √© o padr√£o do Flask. O arquivo, em seguida, configura o m√≥dulo SQL da CS50 para usar <code>finance.db</code>.</p>
<p>Depois disso, h√° um monte de rotas, apenas duas das quais est√£o totalmente implementadas: <code>login</code> e <code>logout</code>. Leia a implementa√ß√£o do <code>login</code> primeiro. Observe como ele usa o <code>db.execute</code> (da biblioteca CS50) para consultar o <code>finance.db</code>. E observe como ele usa o <code>check_password_hash</code> para comparar os hashes das senhas dos usu√°rios. Observe tamb√©m como o <code>login</code> ‚Äúlembra‚Äù que um usu√°rio est√° logado, armazenando seu <code>user_id</code>, um INTEIRO, na <code>session</code>. Dessa forma, qualquer rota deste arquivo pode verificar qual usu√°rio, se houver algum, est√° logado. Por fim, observe como, uma vez que o usu√°rio tenha feito login com sucesso, o <code>login</code> redirecionar√° para <code>&quot;/&quot;</code>, levando o usu√°rio √† sua p√°gina inicial. Enquanto isso, observe como o <code>logout</code> simplesmente limpa a <code>session</code>, efetivamente fazendo logout do usu√°rio.</p>
<p>Observe como a maioria das rotas √© ‚Äúdecorada‚Äù com <code>@ login_required</code> (uma fun√ß√£o definida em <code>helpers.py</code> tamb√©m). Esse decorador garante que, se um usu√°rio tentar visitar qualquer uma dessas rotas, ele ou ela ser√° redirecionado primeiro para <code>login</code> para fazer login.</p>
<p>Observe tamb√©m como a maioria das rotas suporta GET e POST. Mesmo assim, a maioria deles (por enquanto!) simplesmente retorna um &quot;pedido de desculpas&quot;, uma vez que eles ainda n√£o foram implementados.</p>
<h4><code>helpers.py</code></h4>
<p>Em seguida, d√™ uma olhada no arquivo <code>helpers.py</code>. Ah, l√° est√° a implementa√ß√£o do <code>apology</code>. Note como ele, em √∫ltima inst√¢ncia, renderiza um modelo, o <code>apology.html</code>. Ele tamb√©m define, dentro de si mesmo, outra fun√ß√£o, <code>escape</code>, que √© simplesmente usada para substituir caracteres especiais em desculpas. Definindo <code>escape</code> dentro de <code>apology</code>, limitamos o seu escopo apenas a este √∫ltimo; nenhuma outra fun√ß√£o poder√° chamar (ou precisar√° chamar) essa fun√ß√£o.</p>
<p>Em seguida, no arquivo, h√° o <code>login_required</code>. Sem problemas se este for um pouco criptico para voc√™, mas se voc√™ j√° se perguntou como uma fun√ß√£o pode retornar outra fun√ß√£o, aqui est√° um exemplo!</p>
<p>Em seguida, temos o <code>lookup</code>, uma fun√ß√£o que, dada um s√≠mbolo (por exemplo, NFLX), retorna uma cota√ß√£o de a√ß√µes para uma determinada empresa na forma de um dicion√°rio com tr√™s chaves: <code>name</code>, cujo valor √© uma <code>str</code>, o nome da empresa; <code>price</code>, cujo valor √© um <code>float</code> e <code>symbol</code>, cujo valor √© uma <code>str</code>, uma vers√£o can√¥nica (em mai√∫sculas) do s√≠mbolo da a√ß√£o, independentemente de como esse s√≠mbolo foi capitalizado quando passado para <code>lookup</code>.</p>
<p>Finalmente, no final do arquivo, temos a fun√ß√£o <code>usd</code>, uma pequena fun√ß√£o que simplesmente formata um n√∫mero do tipo <code>float</code> como USD (por exemplo, <code>1234.56</code> √© formatado como <code>$ 1,234.56</code>).</p>
<h4><code>requirements.txt</code></h4>
<p>Em seguida, d√™ uma r√°pida olhada em <code>requirements.txt</code>. Esse arquivo simplesmente fornece as depend√™ncias de pacotes necess√°rias para a aplica√ß√£o.</p>
<h4><code>static/</code></h4>
<p>Olhe tamb√©m para a pasta <code>static/</code>, onde se encontra o arquivo <code>styles.css</code>. Ali est√° onde fica o CSS inicial. Voc√™ pode alter√°-lo como achar melhor.</p>
<h4><code>templates/</code></h4>
<p>Agora, d√™ uma olhada na pasta de templates <code>templates/</code>. No arquivo <code>login.html</code>, essencialmente, h√° apenas um formul√°rio HTML, estilizado com <a href="https://getbootstrap.com/">Bootstrap</a>. J√° em <code>apology.html</code>, h√° um modelo para um pedido de desculpas. Lembre-se de que o <code>apology</code> em <code>helpers.py</code> tem dois argumentos: <code>message</code>, que foi passado para <code>render_template</code> como o valor de <code>bottom</code>, e, opcionalmente, <code>code</code>, que foi passado para <code>render_template</code> como o valor de <code>top</code>. Veja como esses valores s√£o usados ‚Äã‚Äãno arquivo <code>apology.html</code>! E <a href="https://github.com/jacebrowning/memegen">aqui est√° o porqu√™</a> 0:-)</p>
<p>Por fim, temos o arquivo <code>layout.html</code>. Ele √© um pouco maior do que o usual, mas isso ocorre principalmente porque ele vem com uma barra de navega√ß√£o m√≥vel-chique, baseada no Bootstrap. Observe como ele define um bloco chamado <code>main</code>, dentro de qual os modelos (incluindo <code>apology.html</code> e<code> login.html</code>) devem ser inclu√≠dos. Ele tamb√©m inclui suporte para o recurso de mensagens intermitentes do Flask <a href="https://flask.palletsprojects.com/en/1.1.x/quickstart/#message-flashing">message flashing</a>, para que voc√™ possa passar mensagens de uma rota para outra para o usu√°rio ver.</p>
<h2>Especifica√ß√£o</h2>
<h3><code>register</code></h3>
<p>Complete a implementa√ß√£o do <code>register</code> de tal forma que permita que um usu√°rio fa√ßa o registro de uma conta atrav√©s de um formul√°rio.</p>
<ul>
<li>Exija que o usu√°rio insira um nome de usu√°rio, implementado como um campo de texto cujo o <code>name</code> √© <code>username</code>. Renderize um pedido de desculpas se o usu√°rio deixar o campo em branco ou se o nome de usu√°rio j√° existir.</li>
<li>Exija que o usu√°rio insira uma senha, implementado como um campo de texto cujo o <code>name</code> √© <code>password</code>, e depois que repita a mesma senha, implementado como um campo de texto cujo o <code>name</code> √© <code>confirmation</code>. Renderize um pedido de desculpas se qualquer um dos campos estiver em branco ou se as senhas n√£o correspondem.</li>
<li>Submeta o input do usu√°rio via <code>POST</code> para <code>/register</code>.</li>
<li>Insira o novo usu√°rio em <code>users</code>, armazenando o hash da senha do usu√°rio, e n√£o a senha em si. Hasheie a senha do usu√°rio com <a href="https://werkzeug.palletsprojects.com/en/1.0.x/utils/#werkzeug.security.generate_password_hash"><code>generate_password_hash</code></a>. √â bem prov√°vel que voc√™ ir√° precisar criar um template novo (e.g., <code>register.html</code>) que seja bem similar ao <code>login.html</code>.</li>
</ul>
<p>Ap√≥s implementar o <code>register</code> corretamente, voc√™ dever√° ser capaz de registrar uma conta e fazer login (j√° que <code>login</code> e <code>logout</code> j√° funcionam)! E voc√™ dever√° ser capaz de ver as suas linhas via phpLiteAdmin ou <code>sqlite3</code>.</p>
<h3><code>quote</code></h3>
<p>Complete a implementa√ß√£o de <code>quote</code> de tal forma que permita que um usu√°rio pesquise o pre√ßo atual de uma a√ß√£o.</p>
<ul>
<li>Exija que o usu√°rio insira o s√≠mbolo da a√ß√£o, implementado como um campo de texto cujo o <code>name</code> √© <code>symbol</code>.</li>
<li>Submeta o input do usu√°rio via <code>POST</code> para <code>/quote</code>.</li>
<li>√â bem prov√°vel que voc√™ ir√° precisar criar dois templates novos (e.g., <code>quote.html</code> e <code>quoted.html</code>). Quando o usu√°rio visitar <code>/quote</code> via GET, renderize um desses templates, dentro dele dever√° existir um formul√°rio HTML que ser√° submetido √† <code>/quote</code> via POST. Em resposta ao POST, <code>quote</code> pode renderizar o segundo template, incorporando um ou mais valores de <code>lookup</code>.</li>
</ul>
<h3><code>buy</code></h3>
<p>Complete a implementa√ß√£o do <code>buy</code> de tal forma que permita que um usu√°rio compre a√ß√µes.</p>
<ul>
<li>Exija que o usu√°rio insira o s√≠mbolo da a√ß√£o, implementado como um campo de texto cujo o <code>name</code> √© <code>symbol</code>. Renderize um pedido de desculpas se o campo estiver em branco ou se o s√≠mbolo n√£o existir (de acordo com o valor de retorno de <code>lookup</code>).</li>
<li>Exija que o usu√°rio insira um n√∫mero de a√ß√µes, implementado como um campo de texto cujo o <code>name</code> √© <code>shares</code>. Renderize um pedido de desculpas se o input n√£o for um inteiro positivo.</li>
<li>Submeta o input do usu√°rio via <code>POST</code> para <code>/buy</code>.</li>
<li>Ap√≥s conclus√£o, redirecione o usu√°rio para a p√°gina principal.</li>
<li>√â bem prov√°vel que voc√™ ir√° precisar chamara o <code>lookup</code> para buscar o pre√ßo atual de uma a√ß√£o.</li>
<li>√â bem prov√°vel que voc√™ ir√° precisar fazer uma <code>SELECT</code> para descobrir quanto de dinheiro o usu√°rio tem em <code>users</code>.</li>
<li>
Adicione uma ou mais tabelas novas ao <code>finance.db</code> por onde possa rastrear a compra. Armazene informa√ß√£o suficiente para saber quem comprou, o qu√™ comprou, por qual pre√ßo e quando.<ul>
<li>Utilize tipos SQLite apropriados.</li>
<li>Defina √≠ndices <code>UNIQUE</code> em campos que precisarem ser √∫nicos.</li>
<li>Defina √≠ndices (n√£o-<code>UNIQUE</code>) em campos pelos quais voc√™ ir√° realizar pesquisas (por exemplo, via <code>SELECT</code> com <code>WHERE</code>).</li>
</ul>
</li>
<li>Renderize um pedido de desculpas, sem completar a compra, caso o usu√°rio n√£o consiga pagar pelo n√∫mero de a√ß√µes no pre√ßo atual.</li>
<li>Voc√™ n√£o precisa se preocupar com condi√ß√µes de corrida (ou utilizar transa√ß√µes).</li>
</ul>
<p>Ap√≥s implementar o <code>buy</code> corretamente, voc√™ dever√° ser capaz de ver as compras dos usu√°rios em sua(s) nova(s) tabela(s) via phpLiteAdmin ou <code>sqlite3</code>.</p>
<h3><code>√≠ndice</code></h3>
<p>Complete a implementa√ß√£o do <code>√≠ndice</code> de forma a exibir uma tabela HTML que resume as a√ß√µes que o usu√°rio atualmente logado possui. A tabela deve apresentar o n√∫mero total de a√ß√µes possu√≠das pelo usu√°rio, o pre√ßo atual de cada a√ß√£o, o valor total de cada a√ß√£o (ou seja, quantidade de a√ß√µes vezes o pre√ßo) e o saldo atual em dinheiro do usu√°rio. Apresente tamb√©m o valor total do portf√≥lio do usu√°rio (valor total das a√ß√µes mais saldo em dinheiro).</p>
<ul>
<li>√â prov√°vel que seja necess√°rio executar m√∫ltiplas consultas SELECT. Dependendo de como as tabelas s√£o implementadas, pode ser interessante o uso de <a href="https://www.google.com/search?q=SQLite+GROUP+BY">GROUP BY</a>, <a href="https://www.google.com/search?q=SQLite+HAVING">HAVING</a>, <a href="https://www.google.com/search?q=SQLite+SUM">SUM</a> e/ou <a href="https://www.google.com/search?q=SQLite+WHERE">WHERE</a>.</li>
<li>√â prov√°vel que seja necess√°rio chamar a fun√ß√£o <code>lookup</code> para cada a√ß√£o.</li>
</ul>
<h3><code>venda</code></h3>
<p>Complete a implementa√ß√£o da <code>venda</code> de forma a permitir que o usu√°rio venda as a√ß√µes que possui.</p>
<ul>
<li>√â preciso exigir que o usu√°rio insira o s√≠mbolo da a√ß√£o que deseja vender, que deve ser apresentado como um selecionador (<code>select</code>) com <code>name</code> igual a &quot;symbol&quot;. Apresente uma mensagem de erro caso o usu√°rio n√£o selecione uma a√ß√£o ou n√£o possua a√ß√µes dessa a√ß√£o.</li>
<li>Tamb√©m √© preciso exigir que o usu√°rio informe a quantidade de a√ß√µes que deseja vender, que deve ser apresentada como um campo de texto (<code>text</code>) com <code>name</code> igual a &quot;shares&quot;. Apresente uma mensagem de erro caso o valor inserido n√£o seja um n√∫mero inteiro positivo ou caso o usu√°rio n√£o possua a quantidade selecionada de a√ß√µes daquela a√ß√£o.</li>
<li>Os dados do usu√°rio devem ser enviados via <code>POST</code> para <code>/sell</code>.</li>
<li>Ap√≥s a conclus√£o da transa√ß√£o, o usu√°rio deve ser redirecionado para a p√°gina principal.</li>
<li>N√£o √© necess√°rio se preocupar com condi√ß√µes especiais devido a m√∫ltiplos acessos simult√¢neos (ou usar transa√ß√µes).</li>
</ul>
<h3><code>hist√≥rico</code></h3>
<p>Complete a implementa√ß√£o da <code>hist√≥rico</code> de forma a exibir uma tabela HTML que resume todas as transa√ß√µes de um usu√°rio. A tabela deve listar, linha por linha, todas as compras e vendas realizadas pelo usu√°rio.</p>
<ul>
<li>Para cada linha, deve ficar claro se a a√ß√£o foi comprada ou vendida, deve ser inclu√≠do o s√≠mbolo da a√ß√£o, o pre√ßo de compra/venda, a quantidade de a√ß√µes compradas/vendidas e a data/hora em que a transa√ß√£o foi efetuada.</li>
<li>Pode ser necess√°rio alterar a tabela criada para a implementa√ß√£o da <code>compra</code> ou complement√°-la com uma tabela adicional. Tente minimizar redund√¢ncias.</li>
</ul>
<h3>Personaliza√ß√£o</h3>
<p>Implemente, no m√≠nimo, uma personaliza√ß√£o √† sua escolha:</p>
<ul>
<li>Permita que os usu√°rios alterem suas senhas.</li>
<li>Permita que os usu√°rios adicionem mais dinheiro em sua conta.</li>
<li>Permita que os usu√°rios comprem mais a√ß√µes ou vendam a√ß√µes que j√° possuem diretamente pelo <code>√≠ndice</code>, sem precisar escrever o s√≠mbolo da a√ß√£o manualmente.</li>
<li>Exija que as senhas dos usu√°rios contenham um n√∫mero m√≠nimo de letras, n√∫meros e/ou s√≠mbolos.</li>
<li>Implemente outra funcionalidade de escopo compar√°vel.</li>
</ul>
<h2>Passo a Passo</h2>
<div class="ratio ratio-16x9" data-video=""><iframe allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen="" class="border" data-video="" src="https://www.youtube.com/embed/7wPTAwT-6bA?modestbranding=0&amp;rel=0&amp;showinfo=0"></iframe></div>
<h2>Testes</h2>
<p>Certifique-se de testar manualmente o seu aplicativo da web, por exemplo:</p>
<ul>
<li>registrando um novo usu√°rio e verificando se sua p√°gina de portf√≥lio carrega com as informa√ß√µes corretas,</li>
<li>solicitando uma cota√ß√£o usando um s√≠mbolo de a√ß√µes v√°lido,</li>
<li>comprando uma a√ß√£o v√°rias vezes, verificando se o portf√≥lio exibe totais corretos,</li>
<li>vendendo tudo ou parte de uma a√ß√£o, verificando novamente o portf√≥lio, e</li>
<li>verificando se a p√°gina de hist√≥rico mostra todas as transa√ß√µes para o usu√°rio que est√° logado.</li>
</ul>
<p>Tamb√©m teste alguns usos inesperados, por exemplo:</p>
<ul>
<li>inserindo cadeias alfab√©ticas em formul√°rios quando apenas n√∫meros s√£o esperados,</li>
<li>inserindo n√∫meros zero ou negativos em formul√°rios quando apenas n√∫meros positivos s√£o esperados,</li>
<li>inserindo valores de ponto flutuante em formul√°rios quando apenas inteiros s√£o esperados,</li>
<li>tentando gastar mais dinheiro do que um usu√°rio tem,</li>
<li>tentando vender mais a√ß√µes do que um usu√°rio tem,</li>
<li>inserindo um s√≠mbolo de a√ß√£o inv√°lido e</li>
<li>incluindo caracteres potencialmente perigosos como <code>&#x27;</code> e <code>;</code> em consultas SQL.</li>
</ul>
<p>Uma vez satisfeito, para testar seu c√≥digo com <code>check50</code>, execute o seguinte.</p>
<pre><code>check50 cs50/problems/2023/x/finance
</code></pre>
<div class="alert" data-alert="warning" role="alert"><p>Esteja ciente de que <code class="language-plaintext highlighter-rouge">check50</code> testar√° todo o seu programa como um todo. Se voc√™ execut√°-lo <strong>antes</strong> de concluir todas as fun√ß√µes necess√°rias, ele poder√° relatar erros em fun√ß√µes que est√£o corretas, mas dependem de outras fun√ß√µes.</p></div>
<p>Execute o seguinte para avaliar o estilo de seus arquivos Python usando <code>style50</code>.</p>
<pre><code>style50 *.py
</code></pre>
<h2>Solu√ß√£o da Equipe</h2>
<p>Voc√™ pode estilizar seu pr√≥prio aplicativo de forma diferente, mas aqui est√° como √© a solu√ß√£o da equipe!</p>
<p><a href="https://finance.cs50.net/">https://finance.cs50.net/</a></p>
<p>Sinta-se √† vontade para criar uma conta e mexer no aplicativo. N√£o use uma senha que voc√™ use em outros sites.</p>
<p>√â <strong>razo√°vel</strong> olhar o HTML e CSS da equipe.</p>
<h2>Sugest√µes</h2>
<ul>
<li>
<p>Para formatar um valor como valor de d√≥lar americano (com centavos listados com duas casas decimais), voc√™ pode usar o filtro 'usd' em seus modelos Jinja (imprimindo valores como <code>{{ valor | usd }}</code> em vez de <code>{{ valor }}</code>) .</p>
</li>
<li>
<p>Dentro de <code>cs50.SQL</code> existe um m√©todo <code>execute</code>, cujo primeiro argumento deve ser uma <code>str</code> de SQL. Se essa <code>str</code> contiver par√¢metros de ponto de interroga√ß√£o aos quais os valores devem ser vinculados, esses valores podem ser fornecidos como par√¢metros nomeados adicionais para <code>execute</code>. Veja a implementa√ß√£o de <code>login</code> para um exemplo desses. O valor de retorno de <code>execute</code> √© o seguinte:</p>
<ul>
<li>Se a <code>str</code> for um <code>SELECT</code>, ent√£o <code>execute</code> retorna uma lista de zero ou mais objetos <code>dict</code>, dentro dos quais existem chaves e valores representando os campos e c√©lulas de uma tabela, respectivamente.</li>
<li>Se a <code>str</code> for um <code>INSERT</code>, e a tabela na qual os dados foram inseridos contiver uma <code>PRIMARY KEY</code> autoincrement√°vel, ent√£o <code>execute</code> retorna o valor da chave prim√°ria da linha rec√©m-inserida.</li>
<li>Se a <code>str</code> for um <code>DELETE</code> ou um <code>UPDATE</code>, ent√£o <code>execute</code> retorna o n√∫mero de linhas exclu√≠das ou atualizadas por <code>str</code>.</li>
</ul>
</li>
<li>
<p>Lembre-se de que <code>cs50.SQL</code> registrar√° em sua janela de terminal quaisquer consultas que voc√™ executar por meio de <code>execute</code> (para que voc√™ possa confirmar se elas est√£o como pretendido).</p>
</li>
<li>
<p>Certifique-se de usar par√¢metros vinculados a ponto de interroga√ß√£o (ou seja, um <a href="https://www.python.org/dev/peps/pep-0249/#paramstyle">paramstyle</a> de <code>named</code>) ao chamar o m√©todo <code>execute</code> do CS50, como<code> WHERE?</code>. N√£o use f-string, <a href="https://docs.python.org/3.6/library/functions.html#format"><code>format</code></a> ou <code>+</code> (ou seja, concatena√ß√£o), para n√£o correr o risco de sofrer um ataque de inje√ß√£o SQL.</p>
</li>
<li>
<p>Se (e somente se) j√° se sentir confort√°vel com o SQL, voc√™ pode utilizar o <a href="https://docs.sqlalchemy.org/en/latest/index.html">SQLAlchemy Core</a> ou o <a href="https://flask-sqlalchemy.pocoo.org/">Flask-SQLAlchemy</a> (ou seja, [SQLAlchemy ORM] (https://docs.sqlalchemy.org/en/latest/index.html)) em vez do <code>cs50.SQL</code>.</p>
</li>
<li>
<p>Voc√™ pode adicionar arquivos est√°ticos adicionais a <code>static /</code>.</p>
</li>
<li>
<p>√â prov√°vel que voc√™ deseje consultar a documenta√ß√£o do <a href="https://jinja.palletsprojects.com/en/3.1.x/">Jinja</a> ao implementar seus modelos.</p>
</li>
<li>
<p>√â <strong>razo√°vel</strong> pedir a outras pessoas para experimentar (e tentar provocar erros em) seu site.</p>
</li>
<li>
<p>Voc√™ √© bem-vindo para alterar a est√©tica do site, como atrav√©s de</p>
<ul>
<li><a href="https://bootswatch.com/">bootswatch.com</a>,</li>
<li><a href="https://getbootstrap.com/docs/5.1/content/">getbootstrap.com/docs/5.1/content</a>,</li>
<li><a href="https://getbootstrap.com/docs/5.1/components/">getbootstrap.com/docs/5.1/components</a> e / ou</li>
<li><a href="https://memegen.link/">memegen.link</a>.</li>
</ul>
</li>
<li>
<p>Voc√™ pode achar a documenta√ß√£o do <a href="https://flask.palletsprojects.com/en/1.1.x/quickstart/">Flask</a> e do <a href="https://jinja.palletsprojects.com/en/2.11.x/templates/">Jinja</a> √∫teis!</p>
</li>
</ul>
<h2>Perguntas frequentes</h2>
<h3>ImportError: No module named ‚Äòapplication‚Äô</h3>
<p>Por padr√£o, o <code>flask</code> procura um arquivo chamado <code>app.py</code> em seu diret√≥rio de trabalho atual (porque configuramos o valor de<code> FLASK_APP</code>, uma vari√°vel de ambiente, para ser <code>app.py</code>). Se voc√™ vir esse erro, provavelmente executou o <code>flask</code> no diret√≥rio errado!</p>
<h3>OSError: \ [Errno 98 ] Endere√ßo j√° em uso</h3>
<p>Se, ao executar o <code>flask</code>, voc√™ vir este erro, √© prov√°vel que voc√™ (ainda) tenha o <code>flask</code> em execu√ß√£o em outra guia. Certifique-se de interromper esse outro processo, como com ctrl-c, antes de iniciar o <code>flask</code> novamente. Se voc√™ n√£o tiver nenhuma outra guia, execute <code>fuser -k 8080/tcp</code> para encerrar os processos que ainda est√£o ouvindo na porta TCP 8080.</p>
<h2>Como enviar</h2>
<p>Em seu terminal, execute o que segue para enviar seu trabalho.</p>
<pre><code>submit50 cs50/problems/2023/x/finance
</code></pre>
<p>&quot;</p>


        </main>
      </div>
    </div>
  </body>
</html>