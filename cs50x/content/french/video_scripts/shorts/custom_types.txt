Donc, si vous avez vu notre vidéo sur les structures, vous savez déjà que nous avons la capacité de définir nos propres types de données. Mais si vous avez utilisé des structures, vous savez que parfois utiliser ces types de données peut être un peu fastidieux car nous devons utiliser le mot-clé struct lorsque nous travaillons avec eux, comme struct car ou struct étudiant. C'est beaucoup à taper si nous voulons simplement avoir quelque chose de simple, comme une structure. Nous voulons être en mesure de travailler avec les choses un peu plus simplement, comme int ou char, quelque chose de plus pratique à taper. Heureusement, il y a un moyen de le faire en C, avec quelque chose appelé typedef, qui est une façon de créer des noms abrégés ou réécrits pour les types de données. Vous pouvez réécrire des types de données qui existent déjà, ou vous pouvez écrire vos propres types de données.

La première chose à faire est de définir un type de la manière habituelle, puis vous l'aliassez simplement sous un autre nom - typedef ancien nom nouveau nom. Assez simple, non? Nous pourrions, par exemple, définir le type de données déjà existant de unsigned char en tant que byte. Et ensuite, à partir de maintenant, après avoir effectué cette définition de type - qui sera généralement en haut de nos fichiers dot C, ou dans un fichier dot H séparément, nous pouvons simplement utiliser byte partout où nous aurions utilisé unsigned char. C'est beaucoup plus court à taper.

Dans la bibliothèque CS50, nous faisons ceci - nous définissons char star comme chaîne. Parce que nous avons abstrait l'idée de pointeurs. Et le fait qu'une chaîne est vraiment un pointeur vers le premier caractère - un tableau de caractères, car c'est juste tellement difficile à comprendre - mais en fait c'est ce que nous faisons. Et cette ligne de code existe réellement dans CS50 dot H typedef char star string, juste pour rendre cela un peu moins fastidieux à devoir traiter. Vous avez déjà vu probablement un peu de la valeur ici, mais typedef devient formidable lorsqu'il est combiné avec des structures, comme je l'ai déjà mentionné. Les structures ont un nom de type de deux mots. Et donc ils peuvent être vraiment ennuyeux à créer des variables de ce type ou [INAUDIBLE] de struct quelque chose, vos lignes peuvent simplement devenir vraiment, vraiment longues. Et donc vous pouvez utiliser typedef pour venir avec quelque chose de beaucoup plus court.

Si je définis une voiture comme suit, j'ai ma définition de voiture - struct car, puis accolade ouverte, tous les champs de ma structure, accolade fermée, point-virgule - après avoir défini mon type de données, je peux typedef struct car comme car underscore t. Et ensuite, une fois que j'ai fait cela, maintenant à chaque fois que j'aurais utilisé struct car, je peux simplement utiliser car underscore t. C'est une façon beaucoup plus courte d'exprimer cette idée de cette structure que je viens de créer.

Alternativement, étant donné que les structures sont si couramment utilisées dans typedef, il y a - vous pouvez en fait définir le type entre le début et la fin. Donc, le typedef de structure est généralement typedef, ancien nom, nouveau nom, où les noms sont déjà des types que vous avez créés. Mais vous pouvez en fait définir une structure juste au milieu du typedef au lieu de devoir la définir séparément, puis en faire un typedef. Et cela ressemblerait à ceci - typedef struct car, accolade ouverte, toutes vos définitions de champs, accolade fermée, car t. Donc, l'ancien nom est tout ce truc en rouge, vous définissez simplement la structure et la nommez en même temps. Et ensuite, le nouveau nom est car underscore t. Et donc si nous commençons à utiliser ceci dans le code, auparavant je pourrais avoir dit, struct car mycar point-virgule. Eh bien, je n'ai plus à le faire. Maintenant que j'ai utilisé le typedef, je peux simplement dire car underscore t, mycar. C'est une façon beaucoup plus courte de le faire, et en fait, cela va être beaucoup plus pratique, surtout lorsque vous commencez à utiliser des structures beaucoup plus dans votre code.

Je suis Doug Lloyd. C'est CS50.