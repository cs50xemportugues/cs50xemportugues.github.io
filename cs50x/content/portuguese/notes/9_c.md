POST
----

*   Você pode imaginar cenários em que não é seguro utilizar o `get`, pois nomes de usuário e senhas podem aparecer na URL.
*   Podemos utilizar o método `post` para ajudar com esse problema, modificando o `app.py` da seguinte forma:
    
        # Muda para o método POST
        
        from flask import Flask, render_template, request
        
        app = Flask(__name__)
        
        
        @app.route("/")
        def index():
            return render_template("index.html")
        
        
        @app.route("/greet", methods=["POST"])
        def greet():
            return render_template("greet.html", name=request.form.get("name", "mundo"))
        
    
    Observe que `POST` é adicionado à rota `/greet` e que usamos `request.form.get` em vez de `request.args.get`.
    
*   Isso diz ao servidor para procurar _mais profundamente_ no envelope virtual e não revelar os itens em `post` na URL.
*   Ainda assim, este código pode ser avançado ainda mais utilizando uma única rota para `get` e `post`. Para fazer isso, modifique o `app.py` da seguinte forma:
    
        # Utiliza uma única rota
        
        from flask import Flask, render_template, request
        
        app = Flask(__name__)
        
        
        @app.route("/", methods=["GET", "POST"])
        def index():
            if request.method == "POST":
                return render_template("greet.html", name=request.form.get("name", "mundo"))
            return render_template("index.html")
        
    
    Observe que tanto `get` quanto `post` são feitos em uma única rota. No entanto, `request.method` é utilizado para encaminhar corretamente com base no tipo de rota solicitada pelo usuário.
    

Frosh IMs
---------

*   Frosh IMs ou _froshims_ é um aplicativo da web que permite que os alunos se inscrevam para esportes intermuros.
*   Crie uma pasta digitando `mkdir froshims` na janela do terminal. Em seguida, digite `cd froshims` para navegar até esta pasta. Dentro dela, crie um diretório chamado templates digitando `mkdir templates`. Por fim, digite `code app.py` e escreva o código da seguinte forma:
    
        # Implementa um formulário de registro usando um menu de seleção
        
        from flask import Flask, render_template, request
        
        app = Flask(__name__)
        
        SPORTS = [
            "Basquetebol",
            "Futebol",
            "Ultimate Frisbee"
        ]
        
        
        @app.route("/")
        def index():
            return render_template("index.html", sports=SPORTS)
        
        
        @app.route("/register", methods=["POST"])
        def register():
        
            # Validar a submissão
            if not request.form.get("name") or request.form.get("sport") not in SPORTS:
                return render_template("failure.html")
        
            # Confirmar o registro
            return render_template("success.html")
        
    
    Observe que uma opção `failure` é fornecida, de modo que uma mensagem de falha será exibida para o usuário se o campo `name` ou `sport` não for preenchido corretamente.