Neste vídeo, vamos falar sobre o Protocolo de Controle de Transmissão, TCP. Se você não assistiu ao vídeo sobre o Protocolo de Internet, IP, pode ser que queira fazê-lo antes de assistir a este vídeo, porque os dois são bastante inter-relacionados. Então, o Protocolo de Internet, mais uma vez, em resumo, é o protocolo que move informações de uma máquina remetente para uma máquina receptora por meio da rede.

Então, o que é TCP? Apenas mover de uma máquina remetente para uma máquina receptora não é a história completa. Também sabemos que nosso programa, nossos computadores, por exemplo, estão executando vários programas e têm vários serviços em execução nessas máquinas. Portanto, se quisermos obter um pacote ou informação para um programa específico em uma máquina específica, precisamos de mais informações do que o IP permite obter informações do ponto A ao ponto B.

Portanto, o TCP pode ser considerado como direcionando o pacote para o programa correto ou o serviço correto na máquina receptora. E, portanto, é importante, como você pode esperar, saber para onde ele deve ir e qual é a finalidade do pacote ao mesmo tempo. E, portanto, frequentemente, quando se fala em protocolo de controle de transmissão, TCP, você geralmente o ouve no contexto, TCP/IP ou simplesmente TCP/IP. Esses dois protocolos estão tão inter-relacionados que são tratados praticamente como uma unidade única. Mas são dois protocolos separados que fazem duas coisas diferentes.

Novamente, o IP é responsável por levá-lo de uma máquina para outra. E o TCP é responsável por chegar ao programa correto ou ao serviço correto em uma máquina. E ele faz algo mais que o IP não faz, que é garantir a entrega.

Portanto, se agora acoplarmos o endereço IP de uma máquina com o chamado número de porta, e um número de porta é como um serviço específico ou programa é identificado em uma máquina. Se agora temos um endereço IP mais um número de porta, agora podemos identificar com exclusividade um determinado serviço executado em uma máquina específica.

É por isso que o TCP e o IP são frequentemente inter-relacionados, porque esse número de porta, por si só, não significa realmente nada se você precisar de um número de porta e da máquina com a qual está falando. Qual máquina deve estar usando essa porta, por exemplo.

A outra coisa que o TCP faz, como eu disse, é garantir a entrega. Portanto, além de especificar o número da porta, também indica quantos pacotes, o protocolo de Internet, IP, dividiu os dados. E ele ordena esses pacotes para que possam ser reconstruídos na máquina receptora, mesmo que tenham sido recebidos em uma ordem diferente daquela em que foram enviados. O que pode acontecer porque o IP é um protocolo sem conexão e, portanto, diferentes pacotes podem seguir caminhos diferentes pelo sistema.

Alguns desses números de porta são usados com muita frequência e foram padronizados em todos os computadores, praticamente em todos os fabricantes de computadores agora. Então, algo chamado FTP, o Protocolo de Transferência de Arquivos, que é usado para transmitir arquivos, como você pode esperar, de uma máquina para outra, usa a porta 21, convencionalmente. O email, SMTP, usa a porta 25. O DNS, o Sistema de Nomes de Domínio, que discutimos em nosso vídeo de introdução à Internet, usa a porta 53. Se você está navegando na web, geralmente está usando a porta 80, a menos que esteja navegando na web de forma segura, usando a porta 443.

Então, qual é esse processo TCP/IP? O que está acontecendo com ambos os protocolos juntos? Bem, vamos falar sobre isso. Quando um programa deseja enviar dados, o TCP ajuda a dividi-lo em pedaços e comunica esses pacotes para o software de rede do computador. Portanto, ele pega os dados e os envolve com informações que indicam para qual porta eles deveriam ir e em qual ordem aquele pacote está entre todos. Então, faz o pacote um de dez, dois de dez, três de dez e assim por diante.

O IP recebe essas partes de dados que foram embrulhadas com o TCP e envolve mais informações sobre onde o pacote deve ir. Podemos chamar isso de camadas de IP em torno do pacote. Então, é como se fosse uma daquelas bonecas aninhadas. Temos os dados no meio e depois o TCP em cima, informando onde os dados dentro do TCP devem ir, para qual porta ou qual serviço em uma máquina. Em torno disso está a camada IP. Qual endereço IP, qual máquina, está realmente recebendo isso.

Assim, o pacote que foi embrulhado com todas essas camadas é enviado por meio do protocolo de Internet por meio do sistema de roteadores, chegando do ponto A ao ponto B. Quando a máquina ou dispositivo receptor a recebe, ele olha para a camada IP, diz, sim, é meu endereço IP, então ela descarta isso, ignora-o, não precisa mais dele, e pode olhar um nível mais profundo. Ela vê que isso é uma informação que se destina a ser recebida na porta 25. Aparentemente, é a primeira parte de quatro. Então, eu vou manter isso em mente e olhar os dados e colocá-los, mais ou menos, onde acho que devem ir. Agora, por causa do protocolo da Internet, não necessariamente acontece que o próximo pacote que o receptor recebe é o pacote dois. Na verdade, a próxima coisa que o receptor pode receber é o pacote número três, porque esses pacotes seguem caminhos diferentes devido ao tráfego diferente na rede. E então não vou passar pelo diagrama da construção novamente, mas o pacote três se move, é descascado de todas as suas camadas, a camada IP, a camada TCP, e os dados são colocados no lugar certo. E então, digamos que recebe o pacote quatro.

Agora, vamos dizer que é isso, não recebe mais nenhum dado. O IP não faz nada por nós. Mas o TCP faz. O TCP sabe que recebeu um de quatro, três de quatro e quatro de quatro. Não estou recebendo mais nenhum dado. Então, algo deu errado. Mas posso garantir a entrega. Eu sei que o pacote número dois está faltando. E, portanto, o TCP pode fazer uma solicitação, de certa forma, na direção inversa. Aglomerando sua solicitação da mesma maneira e enviando-a via IP, o que, sei, poderia levar a algum tipo de loop infinito de todos soltando pacotes pelo caminho.

Mas basta dizer que o TCP diz: falta-me um pacote. Preciso enviar informações de volta para o remetente. Felizmente, o endereço IP do remetente está meio que agrupado na camada de IP. É parte disso, é o endereço de retorno no envelope. E diga: estou faltando o pacote número dois, você pode enviá-lo novamente, por favor. Quando o remetente recebe essas informações, ele não precisa enviar todo o email novamente. Ele só precisa enviar aquela parte individual que estava perdida, para que possamos enviar o pacote número dois. E quando ele recebe, agora o TCP diz: tenho todas as quatro peças de dados de que preciso. Então, posso montá-las e pegar esse bloco inteiro de informações e passá-lo para a porta 25, onde será interpretado como um e-mail. E isso, assim, enviamos um e-mail do remetente para o destinatário usando o TCP/IP. Portanto, como eu disse, se algo der errado ao longo do caminho, o TCP pode lidar com isso. Ele pode fazer uma solicitação para que a informação seja devolvida a ele. E ele pode reconstruir a mensagem. E assim que reconstruir a mensagem de todos os pacotes que recebeu, pode organizá-los e entregá-los