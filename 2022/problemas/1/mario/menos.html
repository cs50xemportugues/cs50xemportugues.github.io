<!DOCTYPE html>

<!-- saved from url=(0037)https://cs50.harvard.edu/summer/2020/ -->
<html lang="en-us"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta property="og:description" content="Introdu√ß√£o √†s faculdades intelectuais da ci√™ncia da computa√ß√£o e a arte da programa√ß√£o. Este curso ensina aos estudantes a como pensar algoritmicamente e a como resolver problemas eficientemente. Os t√≥picos incluem abstra√ß√£o, algoritmos, estruturas de dados, encapsula√ß√£o, gerenciamento de recursos, seguran√ßa, e engenharia de software. O curso inclui as linguagens C, Python, e SQL, assim como HTML, CSS, e JavaScript. As listas de problemas s√£o inspiradas pelas √°reas das artes, humanas, ci√™ncias sociais, e ci√™ncias naturais. O curso culmina em um projeto final.">

<meta property="og:image" content=""><meta property="og:title" content="CS50"><link href="https://cs50.harvard.edu/summer/2020/favicon.ico?1593528821" rel="icon">

<!-- https://fontawesome.com/how-to-use/on-the-web/referencing-icons/basic-use -->
<script src="https://kit.fontawesome.com/df44463090.js" crossorigin="anonymous"></script>

<link href="/static/css/all.min.css" rel="stylesheet">

<link href="/static/css/page.css" rel="stylesheet">

<link rel="stylesheet" type="text/css" href="/static/css/personalizado.css">

<!-- http://getbootstrap.com/docs/4.5/getting-started/introduction/ -->
<script src="/static/js/jquery.min.js"></script>
<script src="/static/js/popper.min.js"></script>
<script src="/static/js/bootstrap.min.js"></script>

<!-- https://momentjs.com/, https://momentjs.com/timezone/ -->
<script src="/static/js/moment.min.js"></script>
<script src="/static/js/moment-timezone-with-data.min.js"></script>
<script src="/static/js/luxon.min.js"></script>

<!-- https://www.algolia.com/doc/guides/building-search-ui/installation/js/ -->
<script src="/static/js/algoliasearchLite.min.js"></script>
<script src="/static/js/instantsearch.production.min.js"></script>
<script src="/static/js/jekyll-theme-cs50.js"></script>

<title>CS50x em Portugu√™s</title>

</head>

<body>

        <div class="container-fluid">

            <div class="row">

            <aside class="col-md">
 
    <header>
        <h1 data-id="this-is-cs50">
            <a href="/2022/index.html">Este √© o CS50x</a>
        </h1>

        <p><a href="https://cs50.harvard.edu/">O curso da Universidade de Harvard em Portugu√™s!</a><br>2021</p>
    </header>

    <button aria-controls="nav" aria-expanded="false" class="btn btn-sm collapsed d-md-none" data-target="aside &gt; nav" data-toggle="collapse">
        Menu
    </button>

    <nav class="collapse d-md-block" id="nav">
    
        <hr>

        <ul class="fa-ul">
            <li data-marker="*">
                <span class="fa-li"><i class="fas fa-circle"></i></span>
                <a href="/2022/semanas/0.html">Semana 0 <span class="semana-titulo">Scratch <strong class="text-white">üò∫</strong></span></a>
            </li>
            <li data-marker="*">
                <span class="fa-li"><i class="fas fa-circle"></i></span>
                <a href="/2022/semanas/1.html">Semana 1 <span class="semana-titulo">Linguagem C</span></a>
            </li>
            <li data-marker="*">
                <span class="fa-li"><i class="fas fa-circle"></i></span>
                <a href="/2022/semanas/2.html">Semana 2 <span class="semana-titulo">Vetores</span></a>
            </li>
            <li data-marker="*">
                <span class="fa-li"><i class="fas fa-circle"></i></span>
                <a href="/2022/semanas/3.html">Semana 3 <span class="semana-titulo">Algoritmos</span></a>
            </li>
            <li data-marker="*">
                <span class="fa-li"><i class="fas fa-circle"></i></span>
                <a href="/2022/semanas/4.index.html">Semana 4 <span class="semana-titulo">Mem√≥ria <strong class="text-white">üß†</strong></span></a>
            </li>
            <li data-marker="*">
                <span class="fa-li"><i class="fas fa-circle"></i></span>
                <a href="/2022/semanas/5.html">Semana 5 <span class="semana-titulo">Estruturas de Dados</span></a>
            </li>
            <li data-marker="*">
                <span class="fa-li"><i class="fas fa-circle"></i></span>
                <a href="/2022/semanas/6.html">Semana 6 <span class="semana-titulo">Python <strong class="text-white">üêç</strong></span></a>
            </li>
            <li data-marker="*">
                <span class="fa-li"><i class="fas fa-circle"></i></span>
                <a href="/2022/semanas/7.html">Semana 7 <span class="semana-titulo">SQL</span></a>
            </li>
            <li data-marker="*">
                <span class="fa-li"><i class="fas fa-circle"></i></span>
                <a href="/2022/semanas/8.html">Semana 8 <span class="semana-titulo">HTML, CSS, JavaScript</span></a>
            </li>
            <li data-marker="*">
                <span class="fa-li"><i class="fas fa-circle"></i></span>
                <a href="/2022/semanas/9.html">Semana 9 <span class="semana-titulo">Flask</span></a>
            </li>
        </ul>
                                
        <ul>
            <li data-marker="*">
                <a href="/2022/especializacoes.html">Especializa√ß√µes</a>
            </li>
            <li data-marker="*">
                <a href="/2022/projeto_final.html">Projeto Final</a>
            </li>
        </ul>

        <!--
        <hr>

        <ul class="fa-ul">
            <li data-marker="*" class="small">
                <span class="fa-li"><i class="fas fa-circle"></i></span>
                <a href="guia.pdf">Guia R√°pido de Inicializa√ß√£o</a>
            </li>
        </ul>-->

        <hr>

        <ul class="fa-ul">
            <li data-marker="*">
                <span class="fa-li"><i class="fas fa-circle"></i></span>
                <a href="/2022/perguntas_frequentes.html">Perguntas Frequentes</a>
            </li>
            <li data-marker="*">
                <span class="fa-li"><i class="fas fa-circle"></i></span>
                <a href="/2022/tutorias.html">Tutorias</a>
            </li>
            <li data-marker="*">
                <span class="fa-li"><i class="fas fa-circle"></i></span>
                <a href="/2022/problemas/index.html">Listas de Problemas</a>
            </li>
            <li data-marker="*">
                <span class="fa-li"><i class="fas fa-circle"></i></span>
                <a href="/2022/secoes.html">Se√ß√µes</a>
            </li>
            <li data-marker="*">
                <span class="fa-li"><i class="fas fa-circle"></i></span>
                <a href="/2022/equipe.html">Equipe</a>
            </li>
            <li data-marker="*">
                <span class="fa-li"><i class="fas fa-circle"></i></span>
                <a href="/2022/curriculo.html">Curr√≠culo do Curso</a>
            </li>
        </ul>

        <hr>

        <ul class="small fa-ul">
            <li data-marker="*">
                <span class="fa-li"><i class="fas fa-circle"></i></span>
                <a href="https://ide.cs50.io/">CS50 IDE</a>
            </li>
            <li data-marker="*">
                <span class="fa-li"><i class="fas fa-circle"></i></span>
                <a href="https://sqlitebrowser.org/">Navegador para SQLite</a>
            </li>
            <li data-marker="*">
                <span class="fa-li"><i class="fas fa-circle"></i></span>
                <a href="https://adminer.cs50.net/">Navegador para PostgreSQL</a>
            </li>
            <!--
            <li data-marker="*">
                <span class="fa-li"><i class="fas fa-circle"></i></span>
                <a href="https://man.cs50.io/">Manual CS50</a>
            </li>-->
            <li data-marker="*">
                <span class="fa-li"><i class="fas fa-circle"></i></span>
                <a href="https://docs.python.org/pt-br/3/search.html">Documenta√ß√£o Python</a>
            </li>
            <li data-marker="*">
                <span class="fa-li"><i class="fas fa-circle"></i></span>
                <a href="https://stackoverflow.com/search">Stack Overflow</a>
            </li>
            <!--
            <li data-marker="*">
                <span class="fa-li"><i class="fas fa-circle"></i></span>
                <a href="/2022/guiadeestilo.html">Guia de Estilo</a>
            </li>-->
        </ul>

        <hr>

        <p style="font-size: initial">
            <a href="/2022/obrigado.html">Agradecemos</a> √† todos os ex-alunos e amigos do CS50
        </p>
    </nav>

    <footer></footer>
</aside>

            <main class="col-md markdown-body" style="margin-bottom: 286px;">
            


<h1 id="mario">Mario</h1>

<div class="alert" data-alert="warning" role="alert">
  <p>Se voc√™ j√° come√ßou a resolver a Lista de Problemas 1 no CS50 Lab, voc√™ pode continuar resolvendo o problema l√°. Se voc√™ estiver come√ßando a resolver este problema agora, use o CS50 IDE e siga as instru√ß√µes abaixo!</p>
</div>

<h2 id="world-1-1">Mundo 1-1</h2>

<p>Pr√≥ximo ao fim do Mundo 1-1 no jogo Super Mario Brothers, da Nintendo, Mario precisa subir uma pir√¢mide de blocos alinhados √† direita, como mostrado abaixo..</p>

<p><img src="pyramid.png" alt="screenshot of Mario jumping up a right-aligned pyramid"></p>

<p>Vamos recriar essa pir√¢mide usando a linguagem C, por√©m com texto, usando o s√≠mbolo cerquilha, tamb√©m chamado de jogo-da-velha ou hash (<code class="highlighter-rouge">#</code>), como mostrado abaixo. Cada cerquilha possui altura maior do que largura, por isso, a pir√¢mide em si possui uma altura maior do que sua largura.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>       #
      ##
     ###
    ####
   #####
  ######
 #######
########
</code></pre></div></div>

<p>O programa que n√≥s vamos escrever se chamar√° <code class="highlighter-rouge">mario</code>. E vamos deixar o usu√°rio decidir o qu√£o alta ser√° a pir√¢mide, pedindo para ele informar um inteiro positivo entre 1 e 8, incluso.</p>

<p>Abaixo est√° a forma como o programa deve funcionar caso o usu√°rio digite <code class="highlighter-rouge">8</code> quando for pedido:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ ./mario
Altura: 8
       #
      ##
     ###
    ####
   #####
  ######
 #######
########
</code></pre></div></div>


<p>Se o usu√°rio digitar <code class="highlighter-rouge">4</code>, o programa deve funcionar como mostrado abaixo:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ ./mario
Altura: 4
   #
  ##
 ###
####
</code></pre></div></div>

<p>Se o usu√°rio digitar <code class="highlighter-rouge">2</code>, o programa deve funcionar como mostrado abaixo:</p>


<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ ./mario
Altura: 2
 #
##
</code></pre></div></div>

<p>E se o usu√°rio digitar <code class="highlighter-rouge">1</code>, o programa deve funcionar como mostrado abaixo:</p>


<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ ./mario
Altura: 1
#
</code></pre></div></div>

<p>Se o usu√°rio n√£o informar um inteiro positivo entre 1 e 8, incluso, o programa deve pedir ao usu√°rio por um inteiro positivo novamente, at√© que o usu√°rio decida cooperar:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ ./mario
Altura: -1
Altura: 0
Altura: 42
Altura: 50
Altura: 4
   #
  ##
 ###
####
</code></pre></div></div>

<p>Como come√ßar? Vamos abordar este problema um passo de cada vez.</p>

<div class="border embed-responsive embed-responsive-16by9" data-video="">
    <iframe allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen="" class="embed-responsive-item" src="https://www.youtube.com/embed/NAs4FIWkJ4s?modestbranding=1&amp;rel=0&amp;showinfo=0"></iframe>
</div>

<h2 id="pseudocode">Pseudoc√≥digo</h2>

<p>Primeiro, vamos criar um novo diret√≥rio (uma pasta) chamado <code class="highlighter-rouge">mario</code> dentro do diret√≥rio <code class="highlighter-rouge">problemas1</code>, executando a seguinte linha</p>


<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>~/ $ mkdir ~/problemas1/mario
</code></pre></div></div>

<p>Adicione um arquivo chamado <code class="highlighter-rouge">pseudocodigo.txt</code> dentro do diret√≥rio <code class="highlighter-rouge">mario</code>.</p>

<p>Escreva dentro de <code class="highlighter-rouge">pseudocodigo.txt</code> um pouco de pseudoc√≥digo que implementa este programa, ainda que voc√™ n√£o saiba (ainda) como escrever em linguagem C. N√£o existe uma maneira correta de escrever pseudoc√≥digo, mas frases curtas em portugu√™s j√° s√£o o suficiente. Lembre-se de como n√≥s escrevemos o pseudoc√≥digo para <a href="https://docs.google.com/presentation/d/1OQ4RjVmtdBELov6iVKQh6unh4qRkJsYvXHloPSuDE7o/edit?usp=sharing">encontrar Jo√£o Silva</a>. √â prov√°vel que seu pseudoc√≥digo usar√° (ou implicar√° o uso de) uma ou mais fun√ß√µes, condi√ß√µes, express√µes Booleanas, repeti√ß√µes, e/ou vari√°veis.</p>



<details>
    <summary>Spoiler</summary>
    <p>Existe mais de uma maneira de escrever o pseudoc√≥digo, e aqui est√° uma!</p>

<ol>
  <li>Pe√ßa ao usu√°rio para informar a altura</li>
  <li>Se altura for menor do que 1 ou maior do que 8 (ou se n√£o for um n√∫mero inteiro), volte para o passo 1</li>
  <li>Repita de 1 at√© altura:
    <ol>
      <li>Na repeti√ß√£o <em>i</em>, imprime um n√∫mero <em>i</em> de cerquilhas (#) e depois uma nova linha (\n)</li>
    </ol>
  </li>
</ol>

<p>N√£o tem problema alterar seu pseudoc√≥digo depois de ver este aqui, voc√™ s√≥ n√£o pode copiar e colar este pseudoc√≥digo no seu arquivo!</p>
</details>

<h2 id="prompting-for-input">Pedindo Entrada de Dados</h2>

<p>Qualquer que seja seu pseudoc√≥digo, vamos primeiro escrever somente o c√≥digo em linguagem C que pede ao usu√°rio (e pede novamente, se necess√°rio) por entrada de dados. Crie um novo arquivo chamado <code class="highlighter-rouge">mario.c</code> dentro do seu diret√≥rio <code class="highlighter-rouge">mario</code>.</p>

<p>Agora, modifique o programa <code class="highlighter-rouge">mario.c</code> de maneira que ele pe√ßa ao usu√°rio para informar a altura da pir√¢mide, armazenando o dado informado pelo usu√°rio em uma vari√°vel, e pedindo novamente caso a entrada de dado do usu√°rio n√£o seja um inteiro positivo entre 1 e 8, incluso. Em seguida, simplesmente imprima o valor dessa vari√°vel, dessa forma confirmando (para si mesmo) que voc√™ de fato armazenou a entrada de dado do usu√°rio corretamente, como mostrado abaixo.</p>



<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ ./mario
Altura: -1
Altura: 0
Altura: 42
Altura: 50
Altura: 4
Armazenado: 4
</code></pre></div></div>

<details>
    <summary>Dicas</summary>
    <ul>
  <li data-marker="*">Lembre-se que voc√™ pode compilar seu programa com <code class="highlighter-rouge">make</code>.</li>
  <li data-marker="*">Lembre-se que voc√™ pode imprimir o valor de um <code class="highlighter-rouge">int</code> com <code class="highlighter-rouge">printf</code> usando <code class="highlighter-rouge">%i</code>.</li>
  <li data-marker="*">Lembre-se que voc√™ pode receber um inteiro do usu√°rio com a fun√ß√£o <code class="highlighter-rouge">get_int</code>.</li>
  <li data-marker="*">Lembre-se que a fun√ß√£o<code class="highlighter-rouge">get_int</code> est√° declarada no arquivo <code class="highlighter-rouge">cs50.h</code>.</li>
  <li data-marker="*">RLembre-se que na aula n√≥s pedimos ao usu√°rio por um inteiro positivo no programa <code class="highlighter-rouge">positivo.c</code>.</li>
</ul>
</details>

<h2 id="building-the-opposite">Construindo o Oposto</h2>

<p>Agora que seu programa est√° recebendo entrada de dados corretamente (assim esperamos), √© hora de irmos para o pr√≥ximo passo.</p>

<p>Acontece que √© mais f√°cil construir uma pir√¢mide alinhada √† esquerda do que √† direita, como mostrado abaixo.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>#
##
###
####
#####
######
#######
########
</code></pre></div></div>

<p>Portanto, vamos construir uma pir√¢mide alinhada √† esquerda primeiro e depois, quando essa estiver funcionando, vamos construir uma alinhada √† direita.</p>

<p>Modifique o programa <code class="highlighter-rouge">mario.c</code> de forma que ao inv√©s de simplesmente imprimir a entrada de dados do usu√°rio, o programa imprima uma pir√¢mide alinhada √† esquerda de altura igual ao n√∫mero informado pelo usu√°rio.</p>


<details>
    <summary>Dicas</summary>
    <ul>
  <li data-marker="*">Lembre-se que a cerquilha (#) √© um caractere como qualquer outro, portanto voc√™ pode imprimi-lo usando <code class="highlighter-rouge">printf</code>.</li>
  <li>Assim como Scratch possui o bloco "repita", a linguagem C possui a repeti√ß√£o <a href="https://docs.google.com/presentation/d/1oBOUhxdqFdy_J2TMAnerFaw1VxXH3vEQJoIV0UscPKY/edit?usp=sharing"><code class="highlighter-rouge">for</code></a>, com a qual voc√™ pode repetir um bloco de comandos um n√∫mero de vezes. Talvez, em cada repeti√ß√£o <em>i</em>, voc√™ possa imprimir um n√∫mero <em>i</em> de cerquilhas.</li>
  <li data-marker="*">
    <p>Voc√™ pode "aninhar" repeti√ß√µes, iterando com uma vari√°vel (<code class="highlighter-rouge">i</code>, por exemplo) na repeti√ß√£o exterior e com outra vari√°vel (<code class="highlighter-rouge">j</code>, por exemplo) na repeti√ß√£o interior. Por exemplo, aqui est√° o algoritmo que voc√™ poderia usar para imprimir um quadrado de altura e largura <code class="highlighter-rouge">n</code>. Obviamente, n√£o √© um quadrado que voc√™ precisa imprimir para resolver este problema.</p>

    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  for (int i = 0; i &lt; n; i++)
  {
      for (int j = 0; j &lt; n; j++)
      {
          printf("#");
      }
      printf("\n");
  }
</code></pre></div>    </div>
  </li>
</ul>
</details>

<h2 id="right-aligning-with-dots">Alinhando √† Direita com Pontos</h2>

<p>Vamos alinhar a pir√¢mida √† direita empurrando as cerquilhas para o lado direito imprimindo pontos antes das cerquilhas, como mostrado abaixo. </p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>.......#
......##
.....###
....####
...#####
..######
.#######
########
</code></pre></div></div>

<p>Modifique o programa <code class="highlighter-rouge">mario.c</code> de maneira que ele fa√ßa exatamente isso!</p>


<details>
    <summary>Dica</summary>
    <p>Perceba que o n√∫mero de pontos necess√°rios em cada linha √© o "oposto" do n√∫mero de cerquilhas daquela linha. Para uma pir√¢mide de altura 8, a primeira linha possui apenas 1 cerquilha e 7 pontos. A linha da base, por outro lado, possui 8 cerquilhas e 0 pontos. Usando qual f√≥rmula (aritm√©tica, para sermos precisos) voc√™ poderia imprimir a quantidade correta de pontos?</p>
</details>

<h3 id="how-to-test-your-code">Como Testar Seu C√≥digo</h3>

<p>Seu programa funciona como prescrito quando voc√™ digita</p>

<ul>
  <li data-marker="*"><code class="highlighter-rouge">-1</code> (ou outros n√∫meros negativos)?</li>
  <li data-marker="*"><code class="highlighter-rouge">0</code>?</li>
  <li data-marker="*"><code class="highlighter-rouge">1</code> at√© <code class="highlighter-rouge">8</code>?</li>
  <li data-marker="*"><code class="highlighter-rouge">9</code> ou outros n√∫meros positivos?</li>
  <li data-marker="*">letras ou palavras?</li>
  <li data-marker="*">nenhuma entrada de dado, quando voc√™ s√≥ aperta Enter?</li>
</ul>

<h2 id="removing-the-dots">Removendo os Pontos</h2>

<p>Tudo o que resta agora √© um acabamento final! Modifique <code class="highlighter-rouge">mario.c</code> de tal maneira que ele imprima espa√ßos ao inv√©s de pontos!</p>

<h3 id="how-to-test-your-code-1">Como Testar Seu C√≥digo</h3>

<p>Execute a linha abaixo para avaliar a corre√ß√£o do seu c√≥digo usando a ferramenta <code class="highlighter-rouge">check50</code>. N√£o se esque√ßa de compilar e testar o programa voc√™ tamb√©m!</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>check50 cs50emportugues/problemas/2020/mario/menos
</code></pre></div></div>

<p>Execute a linha abaixo para avaliar o estilo do seu c√≥digo usando a ferramenta  <code class="highlighter-rouge">style50</code>.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>style50 mario.c
</code></pre></div></div>

<details>
    <summary>Dica</summary>
    <p>Um espa√ßo √© simplesmente um pressionamento da barra de espa√ßo do seu teclado, assim como um ponto √© simplesmente o pressionamento dessa tecla! Lembre-se que <code class="highlighter-rouge">printf</code> exige que voc√™ envolva ambos caracteres com aspas duplas!</p>
</details>

<h2 id="how-to-submit">Como Adaptar Seu C√≥digo Antes de Enviar</h2>

<p>TODO</p>

<h2 id="how-to-submit">Como Enviar</h2>

<p>Execute a linha abaixo, e em seguida informe sua conta GitHub e sua senha quando o terminal pedir. Por medidas de seguran√ßa, voc√™ ver√° asteriscos (<code class="highlighter-rouge">*</code>) ao inv√©s dos caracteres reais na sua senha.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>submit50 cs50/problems/2020/x/mario/less
</code></pre></div></div>
    	


            </main>

			</div>

		</div>

        <!--
        <div aria-hidden="true" aria-labelledby="searchTitle" class="markdown-body modal" id="search" role="dialog" tabindex="-1">
            <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <div class="pr-3 w-100" id="searchbox"></div>
                        <button class="btn btn-secondary btn-lg" data-dismiss="modal" type="button">Fechar</button>
                    </div>
                    <div class="modal-body">
                        <div id="hits"></div>
                    </div>
                    <div class="modal-footer">
                    </div>
                </div>
            </div>
        </div>
        -->
        
        
<script>

    // Before shwoing searchbox
    $('#search').on('show.bs.modal', function (e) {

        // Client
        const searchClient = algoliasearch('5RYPGI69HZ', '53d709e59d833870a6886f6fcf0b0bfe');
        const search = instantsearch({
            indexName: 'cs50-2020-summer',
            searchClient: searchClient,
            searchFunction: function(helper) { // https://www.algolia.com/doc/guides/building-search-ui/going-further/conditional-display/js/#handling-empty-queries
                const hits = $('#hits');
                if (helper.state.query === '') {
                    hits.hide();
                    return;
                }
                helper.search();
                hits.show();
            }
        });

        // searchBox
        // https://www.algolia.com/doc/api-reference/widgets/search-box/js/
        search.addWidget(
            instantsearch.widgets.searchBox({
                container: '#searchbox',
                cssClasses: {
                    input: 'form-control'
                },
                placeholder: 'Search',
                showLoadingIndicator: false,
                showReset: false,
                showSubmit: false
            })
        );

        // hits
        // https://www.algolia.com/doc/api-reference/widgets/hits/js/
        search.addWidget(
            instantsearch.widgets.hits({
                container: '#hits',
                templates: {
                    item: function(hit) {

                        // url
                        if (window.baseurl) {
                            var url = window.baseurl + hit.url;
                        }
                        else {
                            var url = hit.url;
                        }
                        if (hit.anchor) {
                            url += '#' + hit.anchor;
                        }

                        // title
                        if (hit._highlightResult && hit._highlightResult.headings) {
                            var title = hit._highlightResult.headings[hit._highlightResult.headings.length - 1].value;
                        }
                        else if (hit._highlightResult && hit._highlightResult.title) {
                            var title = hit._highlightResult.title.value;
                        }
                        else if (hit.headings) {
                            var title = hit.headings[hit.headings.length - 1].value;
                        }
                        else if (hit.title) {
                            var title = hit.title;
                        }
                        else {
                            var title = url;
                        }

                        // content
                        if (hit._highlightResult && hit._highlightResult.content) {
                            var content = hit._highlightResult.content.value;
                        }
                        else if (hit._highlightResult && hit._highlightResult.title) {
                            var content = hit._highlightResult.title.value;
                        }
                        else {
                            var content = hit.excerpt_text;
                        }

                        // Template for hit
                        return '<h2 class="font-weight-bold h3 mb-0">' +
                               '<a href="' + url + '">' +
                               title +
                               '</a>' +
                               '</h2>' +
                               '<p class="mb-0">' +
                               '<a class="text-muted" href="' + url + '">' +
                               url +
                               '</a>' +
                               '</p>' +
                               '<p>' + 
                               content +
                               '</p>';
                    }
                }
            })
        );

        // poweredBy
        search.addWidget(
            instantsearch.widgets.poweredBy({
                container: '#search .modal-footer'
            })
        );

        // Let user start searching
        search.start();

        // Resize form
        $(window).trigger('resize');
    });

    // After showing searchbox
    $('#search').on('shown.bs.modal', function (e) {
        $('#searchbox input[type=search]').focus();
    });

</script>
</body>
</html>